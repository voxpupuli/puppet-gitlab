# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`gitlab`](#gitlab): This module installs and configures Gitlab with the Omnibus package.
* [`gitlab::backup`](#gitlab--backup): This class is called from gitlab for backup config.
* [`gitlab::host_config`](#gitlab--host_config): This class is for setting host configurations required for gitlab installation.
* [`gitlab::install`](#gitlab--install): This class is called from gitlab for install.
* [`gitlab::omnibus_config`](#gitlab--omnibus_config): This class is used to configure the gitlab omnibus package on a node
* [`gitlab::omnibus_package_repository`](#gitlab--omnibus_package_repository): This class is used to configure gitlab repositories
* [`gitlab::service`](#gitlab--service): This class is meant to be called from gitlab. It ensure the service is running.

### Defined types

* [`gitlab::custom_hook`](#gitlab--custom_hook): Manage custom hook files within a GitLab project.
* [`gitlab::global_hook`](#gitlab--global_hook): Manage global chain loaded hook files for all GitLab projects.
* [`gitlab::system_hook`](#gitlab--system_hook): A file hook will run on each event so it's up to you to filter events or projects

### Resource types

* [`gitlab_application_settings`](#gitlab_application_settings): Manage Gitlab settings

### Tasks

* [`post_upgrade`](#post_upgrade): Cleans up old postgres database after upgrade
* [`postgres_upgrade`](#postgres_upgrade): Upgrades the postgres database if needed

## Classes

### <a name="gitlab"></a>`gitlab`

This module installs and configures Gitlab with the Omnibus package.

#### Parameters

The following parameters are available in the `gitlab` class:

* [`package_ensure`](#-gitlab--package_ensure)
* [`service_name`](#-gitlab--service_name)
* [`service_enable`](#-gitlab--service_enable)
* [`service_exec`](#-gitlab--service_exec)
* [`service_ensure`](#-gitlab--service_ensure)
* [`service_manage`](#-gitlab--service_manage)
* [`service_provider_restart`](#-gitlab--service_provider_restart)
* [`service_user`](#-gitlab--service_user)
* [`service_group`](#-gitlab--service_group)
* [`rake_exec`](#-gitlab--rake_exec)
* [`edition`](#-gitlab--edition)
* [`manage_upstream_edition`](#-gitlab--manage_upstream_edition)
* [`config_manage`](#-gitlab--config_manage)
* [`config_file`](#-gitlab--config_file)
* [`alertmanager`](#-gitlab--alertmanager)
* [`ci_redis`](#-gitlab--ci_redis)
* [`ci_unicorn`](#-gitlab--ci_unicorn)
* [`external_url`](#-gitlab--external_url)
* [`external_port`](#-gitlab--external_port)
* [`geo_postgresql`](#-gitlab--geo_postgresql)
* [`geo_logcursor`](#-gitlab--geo_logcursor)
* [`geo_primary_role`](#-gitlab--geo_primary_role)
* [`geo_secondary`](#-gitlab--geo_secondary)
* [`geo_secondary_role`](#-gitlab--geo_secondary_role)
* [`git`](#-gitlab--git)
* [`gitaly`](#-gitlab--gitaly)
* [`git_data_dirs`](#-gitlab--git_data_dirs)
* [`gitlab_git_http_server`](#-gitlab--gitlab_git_http_server)
* [`gitlab_ci`](#-gitlab--gitlab_ci)
* [`gitlab_kas`](#-gitlab--gitlab_kas)
* [`gitlab_pages`](#-gitlab--gitlab_pages)
* [`gitlab_rails`](#-gitlab--gitlab_rails)
* [`gitlab_sshd`](#-gitlab--gitlab_sshd)
* [`gitlab_workhorse`](#-gitlab--gitlab_workhorse)
* [`grafana`](#-gitlab--grafana)
* [`logging`](#-gitlab--logging)
* [`letsencrypt`](#-gitlab--letsencrypt)
* [`package`](#-gitlab--package)
* [`logrotate`](#-gitlab--logrotate)
* [`manage_storage_directories`](#-gitlab--manage_storage_directories)
* [`manage_accounts`](#-gitlab--manage_accounts)
* [`mattermost_external_url`](#-gitlab--mattermost_external_url)
* [`mattermost`](#-gitlab--mattermost)
* [`mattermost_nginx`](#-gitlab--mattermost_nginx)
* [`mattermost_nginx_eq_nginx`](#-gitlab--mattermost_nginx_eq_nginx)
* [`nginx`](#-gitlab--nginx)
* [`node_exporter`](#-gitlab--node_exporter)
* [`redis_exporter`](#-gitlab--redis_exporter)
* [`postgres_exporter`](#-gitlab--postgres_exporter)
* [`pgbouncer_exporter`](#-gitlab--pgbouncer_exporter)
* [`gitlab_monitor`](#-gitlab--gitlab_monitor)
* [`gitlab_exporter`](#-gitlab--gitlab_exporter)
* [`pages_external_url`](#-gitlab--pages_external_url)
* [`pages_nginx`](#-gitlab--pages_nginx)
* [`pages_nginx_eq_nginx`](#-gitlab--pages_nginx_eq_nginx)
* [`praefect`](#-gitlab--praefect)
* [`postgresql`](#-gitlab--postgresql)
* [`prometheus`](#-gitlab--prometheus)
* [`prometheus_monitoring_enable`](#-gitlab--prometheus_monitoring_enable)
* [`redis`](#-gitlab--redis)
* [`redis_master_role`](#-gitlab--redis_master_role)
* [`redis_slave_role`](#-gitlab--redis_slave_role)
* [`redis_sentinel_role`](#-gitlab--redis_sentinel_role)
* [`registry`](#-gitlab--registry)
* [`registry_external_url`](#-gitlab--registry_external_url)
* [`registry_nginx`](#-gitlab--registry_nginx)
* [`registry_nginx_eq_nginx`](#-gitlab--registry_nginx_eq_nginx)
* [`roles`](#-gitlab--roles)
* [`sentinel`](#-gitlab--sentinel)
* [`shell`](#-gitlab--shell)
* [`sidekiq`](#-gitlab--sidekiq)
* [`sidekiq_cluster`](#-gitlab--sidekiq_cluster)
* [`skip_auto_migrations`](#-gitlab--skip_auto_migrations)
* [`skip_auto_reconfigure`](#-gitlab--skip_auto_reconfigure)
* [`skip_post_deployment_migrations`](#-gitlab--skip_post_deployment_migrations)
* [`store_git_keys_in_db`](#-gitlab--store_git_keys_in_db)
* [`source_config_file`](#-gitlab--source_config_file)
* [`unicorn`](#-gitlab--unicorn)
* [`puma`](#-gitlab--puma)
* [`user`](#-gitlab--user)
* [`web_server`](#-gitlab--web_server)
* [`high_availability`](#-gitlab--high_availability)
* [`backup_cron_enable`](#-gitlab--backup_cron_enable)
* [`backup_cron_minute`](#-gitlab--backup_cron_minute)
* [`backup_cron_hour`](#-gitlab--backup_cron_hour)
* [`backup_cron_skips`](#-gitlab--backup_cron_skips)
* [`package_hold`](#-gitlab--package_hold)
* [`package_name`](#-gitlab--package_name)
* [`manage_package`](#-gitlab--manage_package)
* [`repository_configuration`](#-gitlab--repository_configuration)
* [`manage_omnibus_repository`](#-gitlab--manage_omnibus_repository)
* [`pgpass_file_location`](#-gitlab--pgpass_file_location)
* [`pgpass_file_ensure`](#-gitlab--pgpass_file_ensure)
* [`pgbouncer_password`](#-gitlab--pgbouncer_password)
* [`consul`](#-gitlab--consul)
* [`custom_hooks_dir`](#-gitlab--custom_hooks_dir)
* [`system_hooks_dir`](#-gitlab--system_hooks_dir)
* [`pgbouncer`](#-gitlab--pgbouncer)
* [`repmgr`](#-gitlab--repmgr)
* [`custom_hooks`](#-gitlab--custom_hooks)
* [`global_hooks`](#-gitlab--global_hooks)
* [`system_hooks`](#-gitlab--system_hooks)

##### <a name="-gitlab--package_ensure"></a>`package_ensure`

Data type: `String`

Can be used to choose exact package version to install.

Default value: `'installed'`

##### <a name="-gitlab--service_name"></a>`service_name`

Data type: `String`

Name of the system service.

Default value: `'gitlab-runsvdir'`

##### <a name="-gitlab--service_enable"></a>`service_enable`

Data type: `Boolean`

Run the system service on boot.

Default value: `true`

##### <a name="-gitlab--service_exec"></a>`service_exec`

Data type: `String`

The service executable path. Provide this variable value only if the service executable path would be a subject of change in future GitLab versions for any reason.

Default value: `'/usr/bin/gitlab-ctl'`

##### <a name="-gitlab--service_ensure"></a>`service_ensure`

Data type: `Enum['stopped', 'false', 'running', 'true']`

Should Puppet start the service?

Default value: `'running'`

##### <a name="-gitlab--service_manage"></a>`service_manage`

Data type: `Boolean`

Should Puppet manage the service?

Default value: `false`

##### <a name="-gitlab--service_provider_restart"></a>`service_provider_restart`

Data type: `Boolean`

Should Puppet restart the gitlab systemd service?

Default value: `false`

##### <a name="-gitlab--service_user"></a>`service_user`

Data type: `String`

Owner of the config file.

Default value: `'root'`

##### <a name="-gitlab--service_group"></a>`service_group`

Data type: `String`

Group of the config file.

Default value: `'root'`

##### <a name="-gitlab--rake_exec"></a>`rake_exec`

Data type: `String`

The gitlab-rake executable path. You should not need to change this path.

Default value: `'/usr/bin/gitlab-rake'`

##### <a name="-gitlab--edition"></a>`edition`

Data type: `Optional[String]`

**Deprecated**: See `manage_upstream_edition`

Default value: `undef`

##### <a name="-gitlab--manage_upstream_edition"></a>`manage_upstream_edition`

Data type: `Enum['ce', 'ee', 'disabled']`

One of [ 'ce', 'ee', 'disabled' ]. Manage the installation of an upstream Gitlab Omnibus edition to install.

Default value: `'ce'`

##### <a name="-gitlab--config_manage"></a>`config_manage`

Data type: `Boolean`

Should Puppet manage the config?

Default value: `true`

##### <a name="-gitlab--config_file"></a>`config_file`

Data type: `Stdlib::Absolutepath`

Path of the Gitlab Omnibus config file.

Default value: `'/etc/gitlab/gitlab.rb'`

##### <a name="-gitlab--alertmanager"></a>`alertmanager`

Data type: `Optional[Hash]`

Hash of 'alertmanager' config parameters.

Default value: `undef`

##### <a name="-gitlab--ci_redis"></a>`ci_redis`

Data type: `Optional[Hash]`

Hash of 'ci_redis' config parameters.

Default value: `undef`

##### <a name="-gitlab--ci_unicorn"></a>`ci_unicorn`

Data type: `Optional[Hash]`

Hash of 'ci_unicorn' config parameters.

Default value: `undef`

##### <a name="-gitlab--external_url"></a>`external_url`

Data type: `Stdlib::Httpurl`

External URL of Gitlab.

Default value: `"http://${facts['networking']['fqdn']}"`

##### <a name="-gitlab--external_port"></a>`external_port`

Data type: `Optional[Integer[1, 65565]]`

External PORT of Gitlab.

Default value: `undef`

##### <a name="-gitlab--geo_postgresql"></a>`geo_postgresql`

Data type: `Optional[Hash]`

Hash of 'geo_postgresql' config parameters.

Default value: `undef`

##### <a name="-gitlab--geo_logcursor"></a>`geo_logcursor`

Data type: `Optional[Hash]`

Hash of 'geo_logcursor' config parameters.

Default value: `undef`

##### <a name="-gitlab--geo_primary_role"></a>`geo_primary_role`

Data type: `Boolean`

Boolean to enable Geo primary role

Default value: `false`

##### <a name="-gitlab--geo_secondary"></a>`geo_secondary`

Data type: `Optional[Hash]`

Hash of 'geo_secondary' config parameters.

Default value: `undef`

##### <a name="-gitlab--geo_secondary_role"></a>`geo_secondary_role`

Data type: `Boolean`

Boolean to enable Geo secondary role

Default value: `false`

##### <a name="-gitlab--git"></a>`git`

Data type: `Optional[Hash]`

Hash of 'omnibus_gitconfig' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitaly"></a>`gitaly`

Data type: `Optional[Hash]`

Hash of 'omnibus_gitconfig' config parameters.

Default value: `undef`

##### <a name="-gitlab--git_data_dirs"></a>`git_data_dirs`

Data type: `Optional[Hash]`

Hash of git data directories

**Deprecated**: This option was removed in Gitlab 18.

To configure the storage location for a Gitaly node:
```patch
-        git_data_dirs           => {
-            'default' => { 'path' => '/mnt/example/git-data'},
-        },
+        gitaly                  => {
+            configuration => {
+                'storage' => [
+                    {
+                        'name' => 'default',
+                        'path' => '/mnt/example/git-data/repositories',
+                    },
+                ],
+            },
+        },
```

To configure the storage location for other nodes:
```patch
-        git_data_dirs           => {
-            'default' => { 'gitaly_address' => 'tcp://gitaly1.internal:8075'},
-        },
+        gitlab_rails            => {
+            repositories_storages => {
+                'default' => { 'gitaly_address' => 'tcp://gitaly1.internal:8075'},
+            },
+        },
```

Default value: `undef`

##### <a name="-gitlab--gitlab_git_http_server"></a>`gitlab_git_http_server`

Data type: `Optional[Hash]`

Hash of 'gitlab_git_http_server' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_ci"></a>`gitlab_ci`

Data type: `Optional[Hash]`

Hash of 'gitlab_ci' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_kas"></a>`gitlab_kas`

Data type: `Optional[Hash]`

Hash of 'gitlab_kas' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_pages"></a>`gitlab_pages`

Data type: `Optional[Hash]`

Hash of 'gitlab_pages' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_rails"></a>`gitlab_rails`

Data type: `Optional[Hash]`

Hash of 'gitlab_pages' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_sshd"></a>`gitlab_sshd`

Data type: `Optional[Hash]`

Hash of 'gitlab_sshd' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_workhorse"></a>`gitlab_workhorse`

Data type: `Optional[Hash]`

Hash of 'gitlab_workhorse' config parameters.

Default value: `undef`

##### <a name="-gitlab--grafana"></a>`grafana`

Data type: `Optional[Hash]`

Hash of 'grafana' config parameters.

Default value: `undef`

##### <a name="-gitlab--logging"></a>`logging`

Data type: `Optional[Hash]`

Hash of 'logging' config parameters.

Default value: `undef`

##### <a name="-gitlab--letsencrypt"></a>`letsencrypt`

Data type: `Optional[Hash]`

Hash of 'letsencrypt' config parameters.

Default value: `undef`

##### <a name="-gitlab--package"></a>`package`

Data type: `Optional[Hash[String[1], Scalar]]`

Hash of 'package' config parameters.

Default value: `undef`

##### <a name="-gitlab--logrotate"></a>`logrotate`

Data type: `Optional[Hash]`

Hash of 'logrotate' config parameters.

Default value: `undef`

##### <a name="-gitlab--manage_storage_directories"></a>`manage_storage_directories`

Data type: `Optional[Hash]`

Hash of 'manage_storage_directories' config parameters.

Default value: `undef`

##### <a name="-gitlab--manage_accounts"></a>`manage_accounts`

Data type: `Optional[Hash]`

Hash of 'manage_accounts' config parameters.

Default value: `undef`

##### <a name="-gitlab--mattermost_external_url"></a>`mattermost_external_url`

Data type: `Optional[String]`

External URL of Mattermost.

Default value: `undef`

##### <a name="-gitlab--mattermost"></a>`mattermost`

Data type: `Optional[Hash]`

Hash of 'mattmost' config parameters.

Default value: `undef`

##### <a name="-gitlab--mattermost_nginx"></a>`mattermost_nginx`

Data type: `Optional[Hash]`

Hash of 'mattmost_nginx' config parameters.

Default value: `undef`

##### <a name="-gitlab--mattermost_nginx_eq_nginx"></a>`mattermost_nginx_eq_nginx`

Data type: `Boolean`

Replicate the Mattermost Nginx config from the Gitlab Nginx config.

Default value: `false`

##### <a name="-gitlab--nginx"></a>`nginx`

Data type: `Optional[Hash]`

Hash of 'nginx' config parameters.

Default value: `undef`

##### <a name="-gitlab--node_exporter"></a>`node_exporter`

Data type: `Optional[Hash]`

Hash of 'node_exporter' config parameters.

Default value: `undef`

##### <a name="-gitlab--redis_exporter"></a>`redis_exporter`

Data type: `Optional[Hash]`

Hash of 'redis_exporter' config parameters.

Default value: `undef`

##### <a name="-gitlab--postgres_exporter"></a>`postgres_exporter`

Data type: `Optional[Hash]`

Hash of 'postgres_exporter' config parameters.

Default value: `undef`

##### <a name="-gitlab--pgbouncer_exporter"></a>`pgbouncer_exporter`

Data type: `Optional[Hash]`

Hash of 'pgbouncer_exporter' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_monitor"></a>`gitlab_monitor`

Data type: `Optional[Hash]`

Deprecated if using Gitlab > 12.3 and < 13.0, unsupported by gitlab omnibus using Gitlab 13+. Hash of 'gitlab_monitor' config parameters.

Default value: `undef`

##### <a name="-gitlab--gitlab_exporter"></a>`gitlab_exporter`

Data type: `Optional[Hash]`

Hash of 'gitlab_exporter' config parameters.

Default value: `undef`

##### <a name="-gitlab--pages_external_url"></a>`pages_external_url`

Data type: `Optional[String]`

External URL of Gitlab Pages.

Default value: `undef`

##### <a name="-gitlab--pages_nginx"></a>`pages_nginx`

Data type: `Optional[Hash]`

Hash of 'pages_nginx' config parameters.

Default value: `undef`

##### <a name="-gitlab--pages_nginx_eq_nginx"></a>`pages_nginx_eq_nginx`

Data type: `Boolean`

Replicate the Pages Nginx config from the Gitlab Nginx config.

Default value: `false`

##### <a name="-gitlab--praefect"></a>`praefect`

Data type: `Optional[Hash]`

Hash of 'praefect' config parameters.

Default value: `undef`

##### <a name="-gitlab--postgresql"></a>`postgresql`

Data type: `Optional[Hash]`

Hash of 'postgresql' config parameters.

Default value: `undef`

##### <a name="-gitlab--prometheus"></a>`prometheus`

Data type: `Optional[Hash]`

Hash of 'prometheus' config parameters.

Default value: `undef`

##### <a name="-gitlab--prometheus_monitoring_enable"></a>`prometheus_monitoring_enable`

Data type: `Optional[Boolean]`

Enable/disable prometheus support.

Default value: `undef`

##### <a name="-gitlab--redis"></a>`redis`

Data type: `Optional[Hash]`

Hash of 'redis' config parameters.

Default value: `undef`

##### <a name="-gitlab--redis_master_role"></a>`redis_master_role`

Data type: `Optional[Boolean]`

To enable Redis master role for the node.

Default value: `undef`

##### <a name="-gitlab--redis_slave_role"></a>`redis_slave_role`

Data type: `Optional[Boolean]`

To enable Redis slave role for the node.

Default value: `undef`

##### <a name="-gitlab--redis_sentinel_role"></a>`redis_sentinel_role`

Data type: `Optional[Boolean]`

To enable sentinel role for the node.

Default value: `undef`

##### <a name="-gitlab--registry"></a>`registry`

Data type: `Optional[Hash]`

Hash of 'registry' config parameters.

Default value: `undef`

##### <a name="-gitlab--registry_external_url"></a>`registry_external_url`

Data type: `Optional[String]`

External URL of Registry

Default value: `undef`

##### <a name="-gitlab--registry_nginx"></a>`registry_nginx`

Data type: `Optional[Hash]`

Hash of 'registry_nginx' config parameters.

Default value: `undef`

##### <a name="-gitlab--registry_nginx_eq_nginx"></a>`registry_nginx_eq_nginx`

Data type: `Boolean`

Replicate the registry Nginx config from the Gitlab Nginx config.

Default value: `false`

##### <a name="-gitlab--roles"></a>`roles`

Data type: `Optional[Array]`

Array of roles when using a HA or Geo enabled GitLab configuration. See: https://docs.gitlab.com/omnibus/roles/README.html for acceptable values

Default value: `undef`

##### <a name="-gitlab--sentinel"></a>`sentinel`

Data type: `Optional[Hash]`

Hash of 'sentinel' config parameters.

Default value: `undef`

##### <a name="-gitlab--shell"></a>`shell`

Data type: `Optional[Hash]`

Hash of 'gitlab_shell' config parameters.

Default value: `undef`

##### <a name="-gitlab--sidekiq"></a>`sidekiq`

Data type: `Optional[Hash]`

Hash of 'sidekiq' config parameters

Default value: `undef`

##### <a name="-gitlab--sidekiq_cluster"></a>`sidekiq_cluster`

Data type: `Optional[Hash]`

Hash of 'sidekiq_cluster' config parameters.

Default value: `undef`

##### <a name="-gitlab--skip_auto_migrations"></a>`skip_auto_migrations`

Data type: `Optional`

Deprecated if using Gitlab > 10.6.4 and < 11.0.0, unsupported by gitlab omnibus using gitlab 11+. Use skip_auto_reconfigure

Default value: `undef`

##### <a name="-gitlab--skip_auto_reconfigure"></a>`skip_auto_reconfigure`

Data type: `Enum['present', 'absent']`

Utilized for Zero Downtime Updates, See: https://docs.gitlab.com/omnibus/update/README.html#zero-downtime-updates

Default value: `'absent'`

##### <a name="-gitlab--skip_post_deployment_migrations"></a>`skip_post_deployment_migrations`

Data type: `Boolean`

Adds SKIP_POST_DEPLOYMENT_MIGRATIONS=true to the execution of gitlab-ctl reconfigure. Used for zero-downtime updates

Default value: `false`

##### <a name="-gitlab--store_git_keys_in_db"></a>`store_git_keys_in_db`

Data type: `Boolean`

Enable or disable Fast Lookup of authorized SSH keys in the database. See: https://docs.gitlab.com/ee/administration/operations/fast_ssh_key_lookup.html

Default value: `false`

##### <a name="-gitlab--source_config_file"></a>`source_config_file`

Data type: `Optional[Stdlib::Absolutepath]`

Override Hiera config with path to gitlab.rb config file

Default value: `undef`

##### <a name="-gitlab--unicorn"></a>`unicorn`

Data type: `Optional[Hash]`

Hash of 'unicorn' config parameters.

Default value: `undef`

##### <a name="-gitlab--puma"></a>`puma`

Data type: `Optional[Hash]`

Hash of 'puma' config parameters.

Default value: `undef`

##### <a name="-gitlab--user"></a>`user`

Data type: `Optional[Hash]`

Hash of 'user' config parameters.

Default value: `undef`

##### <a name="-gitlab--web_server"></a>`web_server`

Data type: `Optional[Hash]`

Hash of 'web_server' config parameters.

Default value: `undef`

##### <a name="-gitlab--high_availability"></a>`high_availability`

Data type: `Optional[Hash]`

Hash of 'high_availability' config parameters.

Default value: `undef`

##### <a name="-gitlab--backup_cron_enable"></a>`backup_cron_enable`

Data type: `Boolean`

Boolean to enable the daily backup cron job

Default value: `false`

##### <a name="-gitlab--backup_cron_minute"></a>`backup_cron_minute`

Data type: `Integer[0,59]`

The minute when to run the daily backup cron job

Default value: `0`

##### <a name="-gitlab--backup_cron_hour"></a>`backup_cron_hour`

Data type: `Integer[0,23]`

The hour when to run the daily backup cron job

Default value: `2`

##### <a name="-gitlab--backup_cron_skips"></a>`backup_cron_skips`

Data type: `Array`

Array of items to skip valid values: db, uploads, repositories, builds, artifacts, lfs, registry, pages

Default value: `[]`

##### <a name="-gitlab--package_hold"></a>`package_hold`

Data type: `Enum['hold', 'none']`

Wether to hold the specified package version. Available options are 'hold' or 'none'. Defaults to 'none'. Available only for Debian/Solaris package managers.

Default value: `'none'`

##### <a name="-gitlab--package_name"></a>`package_name`

Data type: `Optional[String]`

The internal packaging system's name for the package. This name will automatically be changed by the gitlab::edition parameter. Can be overridden for the purposes of installing custom compiled version of gitlab-omnibus.

Default value: `undef`

##### <a name="-gitlab--manage_package"></a>`manage_package`

Data type: `Boolean`

Should the GitLab package be managed?

Default value: `true`

##### <a name="-gitlab--repository_configuration"></a>`repository_configuration`

Data type: `Hash`

A hash of repository types and attributes for configuraiton the gitlab package repositories. See docs in README.md

##### <a name="-gitlab--manage_omnibus_repository"></a>`manage_omnibus_repository`

Data type: `Boolean`

Set to false if you wish to manage gitlab without configuring the package repository

Default value: `true`

##### <a name="-gitlab--pgpass_file_location"></a>`pgpass_file_location`

Data type: `Stdlib::Absolutepath`

Path to location of .pgpass file used by consul to authenticate with pgbouncer database

Default value: `'/home/gitlab-consul/.pgpass'`

##### <a name="-gitlab--pgpass_file_ensure"></a>`pgpass_file_ensure`

Data type: `Enum['absent', 'present']`

Create .pgpass file for pgbouncer authentication. When set to present requires valid value for pgbouncer_password.

Default value: `'absent'`

##### <a name="-gitlab--pgbouncer_password"></a>`pgbouncer_password`

Data type: `Optional[String]`

Password for the gitlab-consul database user in the pgbouncer database

Default value: `undef`

##### <a name="-gitlab--consul"></a>`consul`

Data type: `Optional[Hash]`



Default value: `undef`

##### <a name="-gitlab--custom_hooks_dir"></a>`custom_hooks_dir`

Data type: `Stdlib::Absolutepath`



Default value: `'/opt/gitlab/embedded/service/gitlab-shell/hooks'`

##### <a name="-gitlab--system_hooks_dir"></a>`system_hooks_dir`

Data type: `Stdlib::Absolutepath`



Default value: `'/opt/gitlab/embedded/service/gitlab-rails/file_hooks'`

##### <a name="-gitlab--pgbouncer"></a>`pgbouncer`

Data type: `Optional[Hash]`



Default value: `undef`

##### <a name="-gitlab--repmgr"></a>`repmgr`

Data type: `Optional[Hash]`



Default value: `undef`

##### <a name="-gitlab--custom_hooks"></a>`custom_hooks`

Data type: `Hash`



Default value: `{}`

##### <a name="-gitlab--global_hooks"></a>`global_hooks`

Data type: `Hash`



Default value: `{}`

##### <a name="-gitlab--system_hooks"></a>`system_hooks`

Data type: `Hash[String[1],Hash[String[1],Any]]`



Default value: `{}`

### <a name="gitlab--backup"></a>`gitlab::backup`

This class is called from gitlab for backup config.

### <a name="gitlab--host_config"></a>`gitlab::host_config`

This class is for setting host configurations required for gitlab installation.

#### Parameters

The following parameters are available in the `gitlab::host_config` class:

* [`config_dir`](#-gitlab--host_config--config_dir)
* [`skip_auto_migrations`](#-gitlab--host_config--skip_auto_migrations)
* [`skip_auto_reconfigure`](#-gitlab--host_config--skip_auto_reconfigure)
* [`store_git_keys_in_db`](#-gitlab--host_config--store_git_keys_in_db)
* [`pgpass_file_ensure`](#-gitlab--host_config--pgpass_file_ensure)
* [`pgpass_file_location`](#-gitlab--host_config--pgpass_file_location)
* [`pgbouncer_password`](#-gitlab--host_config--pgbouncer_password)

##### <a name="-gitlab--host_config--config_dir"></a>`config_dir`

Data type: `Any`

The service executable path. Provide this variable value only if the service executable path would be a subject of change in future GitLab versions for any reason.

Default value: `'/etc/gitlab'`

##### <a name="-gitlab--host_config--skip_auto_migrations"></a>`skip_auto_migrations`

Data type: `Any`

Deprecated if using Gitlab > 10.6.4 and < 11.0.0, unsupported by gitlab omnibus using gitlab 11+. Use skip_auto_reconfigure

Default value: `$gitlab::skip_auto_migrations`

##### <a name="-gitlab--host_config--skip_auto_reconfigure"></a>`skip_auto_reconfigure`

Data type: `Any`

Utilized for Zero Downtime Updates, See: https://docs.gitlab.com/omnibus/update/README.html#zero-downtime-updates

Default value: `$gitlab::skip_auto_reconfigure`

##### <a name="-gitlab--host_config--store_git_keys_in_db"></a>`store_git_keys_in_db`

Data type: `Any`

Enable or disable Fast Lookup of authorized SSH keys in the database. See: https://docs.gitlab.com/ee/administration/operations/fast_ssh_key_lookup.html

Default value: `$gitlab::store_git_keys_in_db`

##### <a name="-gitlab--host_config--pgpass_file_ensure"></a>`pgpass_file_ensure`

Data type: `Any`

Create .pgpass file for pgbouncer authentication. When set to present requires valid value for pgbouncer_password.

Default value: `$gitlab::pgpass_file_ensure`

##### <a name="-gitlab--host_config--pgpass_file_location"></a>`pgpass_file_location`

Data type: `Any`

Path to location of .pgpass file used by consul to authenticate with pgbouncer database

Default value: `$gitlab::pgpass_file_location`

##### <a name="-gitlab--host_config--pgbouncer_password"></a>`pgbouncer_password`

Data type: `Any`

Password for the gitlab-consul database user in the pgbouncer database

Default value: `$gitlab::pgbouncer_password`

### <a name="gitlab--install"></a>`gitlab::install`

This class is called from gitlab for install.

#### Parameters

The following parameters are available in the `gitlab::install` class:

* [`package_name`](#-gitlab--install--package_name)
* [`package_ensure`](#-gitlab--install--package_ensure)
* [`package_hold`](#-gitlab--install--package_hold)
* [`manage_package`](#-gitlab--install--manage_package)

##### <a name="-gitlab--install--package_name"></a>`package_name`

Data type: `Any`



Default value: `$gitlab::package_name`

##### <a name="-gitlab--install--package_ensure"></a>`package_ensure`

Data type: `Any`



Default value: `$gitlab::package_ensure`

##### <a name="-gitlab--install--package_hold"></a>`package_hold`

Data type: `Any`



Default value: `$gitlab::package_hold`

##### <a name="-gitlab--install--manage_package"></a>`manage_package`

Data type: `Any`



Default value: `$gitlab::manage_package`

### <a name="gitlab--omnibus_config"></a>`gitlab::omnibus_config`

This class is used to configure the gitlab omnibus package on a node

#### Parameters

The following parameters are available in the `gitlab::omnibus_config` class:

* [`config_manage`](#-gitlab--omnibus_config--config_manage)
* [`config_file`](#-gitlab--omnibus_config--config_file)

##### <a name="-gitlab--omnibus_config--config_manage"></a>`config_manage`

Data type: `Any`

Should Puppet manage the config?

Default value: `$gitlab::config_manage`

##### <a name="-gitlab--omnibus_config--config_file"></a>`config_file`

Data type: `Any`

Path of the Gitlab Omnibus config file.

Default value: `$gitlab::config_file`

### <a name="gitlab--omnibus_package_repository"></a>`gitlab::omnibus_package_repository`

This class is used to configure gitlab repositories

#### Parameters

The following parameters are available in the `gitlab::omnibus_package_repository` class:

* [`repository_configuration`](#-gitlab--omnibus_package_repository--repository_configuration)
* [`manage_omnibus_repository`](#-gitlab--omnibus_package_repository--manage_omnibus_repository)
* [`manage_upstream_edition`](#-gitlab--omnibus_package_repository--manage_upstream_edition)

##### <a name="-gitlab--omnibus_package_repository--repository_configuration"></a>`repository_configuration`

Data type: `Any`

A hash of repository types and attributes for configuraiton the gitlab package repositories. See docs in README.md

Default value: `$gitlab::repository_configuration`

##### <a name="-gitlab--omnibus_package_repository--manage_omnibus_repository"></a>`manage_omnibus_repository`

Data type: `Any`

Set to false if you wish to manage gitlab without configuring the package repository

Default value: `$gitlab::manage_omnibus_repository`

##### <a name="-gitlab--omnibus_package_repository--manage_upstream_edition"></a>`manage_upstream_edition`

Data type: `Any`

One of [ 'ce', 'ee', 'disabled' ]. Manage the installation of an upstream Gitlab Omnibus edition to install.

Default value: `$gitlab::manage_upstream_edition`

### <a name="gitlab--service"></a>`gitlab::service`

This class is meant to be called from gitlab. It ensure the service is running.

#### Parameters

The following parameters are available in the `gitlab::service` class:

* [`service_ensure`](#-gitlab--service--service_ensure)
* [`service_enable`](#-gitlab--service--service_enable)
* [`service_name`](#-gitlab--service--service_name)
* [`service_exec`](#-gitlab--service--service_exec)
* [`service_manage`](#-gitlab--service--service_manage)
* [`service_provider_restart`](#-gitlab--service--service_provider_restart)
* [`skip_post_deployment_migrations`](#-gitlab--service--skip_post_deployment_migrations)

##### <a name="-gitlab--service--service_ensure"></a>`service_ensure`

Data type: `Any`

Should Puppet start the service?

Default value: `$gitlab::service_ensure`

##### <a name="-gitlab--service--service_enable"></a>`service_enable`

Data type: `Any`

Run the system service on boot.

Default value: `$gitlab::service_enable`

##### <a name="-gitlab--service--service_name"></a>`service_name`

Data type: `Any`

Name of the system service.

Default value: `$gitlab::service_name`

##### <a name="-gitlab--service--service_exec"></a>`service_exec`

Data type: `Any`

The service executable path. Provide this variable value only if the service executable path would be a subject of change in future GitLab versions for any reason.

Default value: `$gitlab::service_exec`

##### <a name="-gitlab--service--service_manage"></a>`service_manage`

Data type: `Any`

Should Puppet manage the service?

Default value: `$gitlab::service_manage`

##### <a name="-gitlab--service--service_provider_restart"></a>`service_provider_restart`

Data type: `Any`

Should Puppet restart the gitlab systemd service?

Default value: `$gitlab::service_provider_restart`

##### <a name="-gitlab--service--skip_post_deployment_migrations"></a>`skip_post_deployment_migrations`

Data type: `Any`

Adds SKIP_POST_DEPLOYMENT_MIGRATIONS=true to the execution of gitlab-ctl reconfigure. Used for zero-downtime updates

Default value: `$gitlab::skip_post_deployment_migrations`

## Defined types

### <a name="gitlab--custom_hook"></a>`gitlab::custom_hook`

Custom hooks can be created as a pre-receive, post-receive, or update hook.
Only one of each is currently supported by this module.

#### Examples

##### Custom hook usage

```puppet
gitlab::custom_hook { 'my_custom_hook':
  namespace      => 'my_group',
  project        => 'my_project',
  type           => 'post-receive',
  source         => 'puppet:///modules/my_module/post-receive',
}
```

##### Calculate hashed storage path

```puppet
gitlab::custom_hook { 'my_custom_hook':
  project        => 93,
  hashed_storage => true,
  type           => 'post-receive',
  source         => 'puppet:///modules/my_module/post-receive',
}
# Hook path will be `@hashed/6e/40/6e4001871c0cf27c7634ef1dc478408f642410fd3a444e2a88e301f5c4a35a4d`
```

#### Parameters

The following parameters are available in the `gitlab::custom_hook` defined type:

* [`project`](#-gitlab--custom_hook--project)
* [`namespace`](#-gitlab--custom_hook--namespace)
* [`type`](#-gitlab--custom_hook--type)
* [`content`](#-gitlab--custom_hook--content)
* [`source`](#-gitlab--custom_hook--source)
* [`repos_path`](#-gitlab--custom_hook--repos_path)
* [`hashed_storage`](#-gitlab--custom_hook--hashed_storage)

##### <a name="-gitlab--custom_hook--project"></a>`project`

Data type: `Variant[String,Integer]`

The GitLab project name, or the hashed directory name or project ID number

##### <a name="-gitlab--custom_hook--namespace"></a>`namespace`

Data type: `Optional[String]`

The GitLab group namespace for the project.

Default value: `undef`

##### <a name="-gitlab--custom_hook--type"></a>`type`

Data type: `Enum['update', 'post-receive', 'pre-receive']`

The custom hook type. Should be one of pre-receive, post-receive, or update.

##### <a name="-gitlab--custom_hook--content"></a>`content`

Data type: `Optional[String]`

Specify the custom hook contents either as a string or using the template function. If this paramter is specified source parameter must not be present.

Default value: `undef`

##### <a name="-gitlab--custom_hook--source"></a>`source`

Data type: `Optional[String]`

Specify a file source path to populate the custom hook contents. If this paramter is specified content parameter must not be present.

Default value: `undef`

##### <a name="-gitlab--custom_hook--repos_path"></a>`repos_path`

Data type: `Optional[Stdlib::Absolutepath]`

The GitLab shell repos path. This defaults to '/var/opt/gitlab/git-data/repositories' if not present.

Default value: `undef`

##### <a name="-gitlab--custom_hook--hashed_storage"></a>`hashed_storage`

Data type: `Boolean`

Whether to treat the project name as a hashed storage directory name or ID number

Default value: `false`

### <a name="gitlab--global_hook"></a>`gitlab::global_hook`

Hooks can be created as a pre-receive, post-receive, or update hook.
It's possible to create multipe hooks per type as long as their names are unique.
Support for chained (global) hooks is introduced in GitLab Shell 4.1.0 and GitLab 8.15.

#### Examples

##### Global hook usage

```puppet
gitlab::custom_hook { 'my_custom_hook':
  type            => 'post-receive',
  source          => 'puppet:///modules/my_module/post-receive',
}
```

#### Parameters

The following parameters are available in the `gitlab::global_hook` defined type:

* [`type`](#-gitlab--global_hook--type)
* [`custom_hooks_dir`](#-gitlab--global_hook--custom_hooks_dir)
* [`content`](#-gitlab--global_hook--content)
* [`source`](#-gitlab--global_hook--source)

##### <a name="-gitlab--global_hook--type"></a>`type`

Data type: `Enum['post-receive', 'pre-receive', 'update']`

The custom hook type. Should be one of pre-receive, post-receive, or update.

##### <a name="-gitlab--global_hook--custom_hooks_dir"></a>`custom_hooks_dir`

Data type: `Stdlib::Absolutepath`

The GitLab shell repos path. This defaults to '/opt/gitlab/embedded/service/gitlab-shell/hooks' if not present.

Default value: `$gitlab::custom_hooks_dir`

##### <a name="-gitlab--global_hook--content"></a>`content`

Data type: `Optional[String[1]]`

Specify the custom hook contents either as a string or using the template function. If this paramter is specified source parameter must not be present.

Default value: `undef`

##### <a name="-gitlab--global_hook--source"></a>`source`

Data type: `Optional[Pattern[/^puppet:/]]`

Specify a file source path to populate the custom hook contents. If this paramter is specified content parameter must not be present.

Default value: `undef`

### <a name="gitlab--system_hook"></a>`gitlab::system_hook`

within a file hook code. You can have as many file hooks as you want. Each file hook will
be triggered by GitLab asynchronously in case of an event. For a list of events
see the system hooks documentation.

#### Examples

##### System hook usage

```puppet
gitlab::system_hook { 'my_system_hook':
  type            => 'post-receive',
  source          => 'puppet:///modules/my_module/post-receive',
}
```

#### Parameters

The following parameters are available in the `gitlab::system_hook` defined type:

* [`system_hooks_dir`](#-gitlab--system_hook--system_hooks_dir)
* [`content`](#-gitlab--system_hook--content)
* [`source`](#-gitlab--system_hook--source)

##### <a name="-gitlab--system_hook--system_hooks_dir"></a>`system_hooks_dir`

Data type: `Stdlib::Absolutepath`

The GitLab shell repos path. This defaults to '/opt/gitlab/embedded/service/gitlab-rails/file_hooks' if not present.

Default value: `$gitlab::system_hooks_dir`

##### <a name="-gitlab--system_hook--content"></a>`content`

Data type: `Optional[String[1]]`

Specify the system hook contents either as a string or using the template function. If this paramter is specified source parameter must not be present.

Default value: `undef`

##### <a name="-gitlab--system_hook--source"></a>`source`

Data type: `Optional[Pattern[/^puppet:/]]`

Specify a file source path to populate the system hook contents. If this paramter is specified content parameter must not be present.

Default value: `undef`

## Resource types

### <a name="gitlab_application_settings"></a>`gitlab_application_settings`

This resource type provides Puppet with the capabilities to manage Gitlab
settings via REST API. The only allowed resource title is 'gitlab'. It'll
throw an error if any other title is specified.

Gitlab API URL and token are required to use this type. There are two options:

1. Export those as GITLAB_BASE_URL and GITLAB_TOKEN environment variables.

2. Store those in a JSON file (see below) and export its location as
GITLAB_PROVIDER_CONFIG_PATH environment variable.

If none of above is made, it'll try to load configuration from
`/etc/puppetlabs/gitlab_provider.json` file.

If still no luck, it'll throw an exception.

Configuration file format is as follows:
```json
{
  "base_url": "http://<your_gitlab_hostname>/api/v4",
  "token": "<your_gitlab_token>"
}
```

**NOTES**

* Changes to the application settings are subject to caching (60s default).

* This resource type doesn't auto-require the Gitlab class. This allows one
  to manage a Gitlab instance, that is installed in a different way. Ensure
  you require `Class['gitlab']` if your Gitlab is installed with this module.

* At the moment there is no way to acquire a token from a freshly installed
  Gitlab instance. So there is no way to install Gitlab and manage its
  settings immediately (in a sane looking way at least). One should get a
  token via UI first.

* **See also**
  * https://docs.gitlab.com/api/settings/

#### Examples

##### Manage Gitlab settings

```puppet
gitlab_application_settings { 'gitlab':
  signup_enabled => false,
  usage_ping_enabled => false,
  version_check_enabled => false,
}
```

##### Manage Gitlab and its settings

```puppet
include gitlab

$gitlab_provider_config_file = '/etc/puppetlabs/gitlab_provider.json'
$gitlab_provider_config = {
  base_url => "http://gitlab.example.com/api/v4",
  token => "glpat-abcdefghijklmn",
}

file { $gitlab_provider_config_file:
  ensure => 'file',
  owner => 'root',
  group => 'root',
  content => $gitlab_provider_config.stdlib::to_json,
}

gitlab_application_settings { 'gitlab':
  signup_enabled => false,
  usage_ping_enabled => false,
  version_check_enabled => false,
  # The config file should be placed first
  require => [
    File[$gitlab_provider_config_file],
    Class['gitlab'],
  ]
}
```

#### Properties

The following properties are available in the `gitlab_application_settings` type.

##### `abuse_notification_email`

Data type: `Optional[String]`

If set, abuse reports are sent to this address. Abuse reports are always available in the Admin area.

##### `admin_mode`

Data type: `Optional[Boolean]`

Require administrators to enable Admin Mode by re-authenticating for administrative tasks.

##### `admin_notification_email`

Data type: `Optional[String]`

Deprecated: Use `abuse_notification_email` instead. If set, abuse reports are sent to this address. Abuse reports are always available in the Admin area.

##### `after_sign_out_path`

Data type: `Optional[String]`

Where to redirect users after logout.

##### `after_sign_up_text`

Data type: `Optional[String]`

Text shown to the user after signing up.

##### `akismet_api_key`

Data type: `Optional[String]`

API key for Akismet spam protection. Required by: `akismet_enabled`

##### `akismet_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `akismet_api_key`) Enable or disable Akismet spam protection.

##### `allow_account_deletion`

Data type: `Optional[Boolean]`

Enable users to delete their accounts.

##### `allow_all_integrations`

Data type: `Optional[Boolean]`

When `false`, only integrations in `allowed_integrations` are allowed on the instance. Premium and Ultimate only.

##### `allow_bypass_placeholder_confirmation`

Data type: `Optional[Boolean]`

Skip confirmation when administrators reassign placeholder users. Introduced in GitLab 18.0.

##### `allow_group_owners_to_manage_ldap`

Data type: `Optional[Boolean]`

Set to `true` to allow group owners to manage LDAP. Premium and Ultimate only.

##### `allow_local_requests_from_hooks_and_services`

Data type: `Optional[Boolean]`

(Deprecated: Use `allow_local_requests_from_web_hooks_and_services` instead) Allow requests to the local network from webhooks and integrations.

##### `allow_local_requests_from_system_hooks`

Data type: `Optional[Boolean]`

Allow requests to the local network from system hooks.

##### `allow_local_requests_from_web_hooks_and_services`

Data type: `Optional[Boolean]`

Allow requests to the local network from webhooks and integrations.

##### `allow_project_creation_for_guest_and_below`

Data type: `Optional[Boolean]`

Indicates whether users assigned up to the Guest role can create groups and personal projects. Defaults to `true`.

##### `allow_runner_registration_token`

Data type: `Optional[Boolean]`

Allow using a registration token to create a runner. Defaults to `true`.

##### `allowed_integrations`

Data type: `Optional[Array[String[1]]]`

When `allow_all_integrations` is `false`, only integrations in this list are allowed on the instance. Premium and Ultimate only.

##### `archive_builds_in_human_readable`

Data type: `Optional[String]`

Set the duration for which the jobs are considered as old and expired. After that time passes, the jobs are archived and no longer able to be retried. Make it empty to never expire jobs. It has to be no less than 1 day, for example: `15 days`, `1 month`, `2 years`.

##### `asciidoc_max_includes`

Data type: `Optional[Integer[0, 64]]`

Maximum limit of AsciiDoc include directives being processed in any one document. Default: 32. Maximum: 64.

##### `asset_proxy_allowlist`

Data type: `Optional[Variant[String[1], Array[String[1]]]]`

Assets that match these domains are not proxied. Wildcards allowed. Your GitLab installation URL is automatically allowlisted. GitLab restart is required to apply changes.

##### `asset_proxy_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `asset_proxy_url`) Enable proxying of assets. GitLab restart is required to apply changes.

##### `asset_proxy_secret_key`

Data type: `Optional[String]`

Shared secret with the asset proxy server. GitLab restart is required to apply changes.

##### `asset_proxy_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

URL of the asset proxy server. GitLab restart is required to apply changes.

##### `asset_proxy_whitelist`

Data type: `Optional[Variant[String[1], Array[String[1]]]]`

(Deprecated: Use `asset_proxy_allowlist` instead) Assets that match these domains are not proxied. Wildcards allowed. Your GitLab installation URL is automatically allowlisted. GitLab restart is required to apply changes.

##### `authorized_keys_enabled`

Data type: `Optional[Boolean]`

By default, we write to the `authorized_keys` file to support Git over SSH without additional configuration. GitLab can be optimized to authenticate SSH keys via the database file. Only disable this if you have configured your OpenSSH server to use the AuthorizedKeysCommand.

##### `auto_ban_user_on_excessive_projects_download`

Data type: `Optional[Boolean]`

When enabled, users will get automatically banned from the application when they download more than the maximum number of unique projects in the time period specified by `max_number_of_repository_downloads` and `max_number_of_repository_downloads_within_time_period`. GitLab Self-Managed, Ultimate only.

##### `auto_devops_domain`

Data type: `Optional[String]`

Specify a domain to use by default for every project's Auto Review Apps and Auto Deploy stages.

##### `auto_devops_enabled`

Data type: `Optional[Boolean]`

Enable Auto DevOps for projects by default. It automatically builds, tests, and deploys applications based on a predefined CI/CD configuration.

##### `autocomplete_users`

Data type: `Optional[Integer[0]]`

Maximum number of authenticated requests per minute to the `GET /autocomplete/users` endpoint.

##### `autocomplete_users_unauthenticated`

Data type: `Optional[Integer[0]]`

Maximum number of unauthenticated requests per minute to the `GET /autocomplete/users` endpoint.

##### `automatic_purchased_storage_allocation`

Data type: `Optional[Boolean]`

Enabling this permits automatic allocation of purchased storage in a namespace. Relevant only to EE distributions.

##### `bulk_import_concurrent_pipeline_batch_limit`

Data type: `Optional[Integer[0]]`

Maximum simultaneous direct transfer batch exports to process.

##### `bulk_import_enabled`

Data type: `Optional[Boolean]`

Enable migrating GitLab groups by direct transfer. Setting also available in the Admin area.

##### `bulk_import_max_download_file_size`

Data type: `Optional[Integer[0]]`

Maximum download file size when importing from source GitLab instances by direct transfer. Introduced in GitLab 16.3.

##### `can_create_group`

Data type: `Optional[Boolean]`

Indicates whether users can create top-level groups. Defaults to `true`.

##### `check_namespace_plan`

Data type: `Optional[Boolean]`

Enabling this makes only licensed EE features available to projects if the project namespace's plan includes the feature or if the project is public. Premium and Ultimate only.

##### `ci_delete_pipelines_in_seconds_limit_human_readable`

Data type: `Optional[String]`

Maximum value that is allowed for configuring pipeline retention. Defaults to `1 year`.

##### `ci_job_live_trace_enabled`

Data type: `Optional[Boolean]`

Turns on incremental logging for job logs. When turned on, archived job logs are incrementally uploaded to object storage. Object storage must be configured. You can also configure this setting in the Admin area.

##### `ci_max_includes`

Data type: `Optional[Integer[0]]`

The maximum number of includes per pipeline. Default is `150`.

##### `ci_max_total_yaml_size_bytes`

Data type: `Optional[Integer[0]]`

The maximum amount of memory, in bytes, that can be allocated for the pipeline configuration, with all included YAML configuration files.

##### `ci_partitions_size_limit`

Data type: `Optional[Integer[0]]`

The maximum amount of disk space, in bytes, that can be used by a database partition for the CI tables before creating new partitions. Default is `100 GB`.

##### `commit_email_hostname`

Data type: `Optional[Variant[Stdlib::FQDN, Enum['']]]`

Custom hostname (for private commit emails).

##### `concurrent_bitbucket_import_jobs_limit`

Data type: `Optional[Integer[0]]`

Maximum number of simultaneous import jobs for the Bitbucket Cloud importer. Default is 100. Introduced in GitLab 16.11.

##### `concurrent_bitbucket_server_import_jobs_limit`

Data type: `Optional[Integer[0]]`

Maximum number of simultaneous import jobs for the Bitbucket Server importer. Default is 100. Introduced in GitLab 16.11.

##### `concurrent_github_import_jobs_limit`

Data type: `Optional[Integer[0]]`

Maximum number of simultaneous import jobs for the GitHub importer. Default is 1000. Introduced in GitLab 16.11.

##### `concurrent_relation_batch_export_limit`

Data type: `Optional[Integer[0]]`

Maximum number of simultaneous batch export jobs to process. Introduced in GitLab 17.6.

##### `container_expiration_policies_enable_historic_entries`

Data type: `Optional[Boolean]`

Enable cleanup policies for all projects.

##### `container_registry_cleanup_tags_service_max_list_size`

Data type: `Optional[Integer[0]]`

The maximum number of tags that can be deleted in a single execution of cleanup policies.

##### `container_registry_delete_tags_service_timeout`

Data type: `Optional[Integer[0]]`

The maximum time, in seconds, that the cleanup process can take to delete a batch of tags for cleanup policies.

##### `container_registry_expiration_policies_caching`

Data type: `Optional[Boolean]`

Caching during the execution of cleanup policies.

##### `container_registry_expiration_policies_worker_capacity`

Data type: `Optional[Integer[0]]`

Number of workers for cleanup policies.

##### `container_registry_token_expire_delay`

Data type: `Optional[Integer[0]]`

Container registry token duration in minutes.

##### `custom_http_clone_url_root`

Data type: `Optional[Stdlib::HTTPUrl]`

Set a custom Git clone URL for HTTP(S).

##### `deactivate_dormant_users`

Data type: `Optional[Boolean]`

Enable automatic deactivation of dormant users.

##### `deactivate_dormant_users_period`

Data type: `Optional[Integer[0]]`

Length of time (in days) after which a user is considered dormant.

##### `decompress_archive_file_timeout`

Data type: `Optional[Integer[0]]`

Default timeout for decompressing archived files, in seconds. Set to 0 to disable timeouts. Introduced in GitLab 16.4.

##### `default_artifacts_expire_in`

Data type: `Optional[String]`

Set the default expiration time for each job's artifacts.

##### `default_branch_name`

Data type: `Optional[String]`

Set the initial branch name for all projects in an instance.

##### `default_branch_protection`

Data type: `Optional[Integer[0]]`

Deprecated in GitLab 17.0. Use `default_branch_protection_defaults` instead.

##### `default_branch_protection_defaults`

Data type: `Optional[Hash]`

Introduced in GitLab 17.0. For available options, see Options for `default_branch_protection_defaults`.

##### `default_ci_config_path`

Data type: `Optional[String]`

Default CI/CD configuration file and path for new projects (`.gitlab-ci.yml` if not set).

##### `default_dark_syntax_highlighting_theme`

Data type: `Optional[Integer[0]]`

Default dark mode syntax highlighting theme for users who are new or not signed in. See IDs of available themes.

##### `default_group_visibility`

Data type: `Optional[Enum['private', 'internal', 'public']]`

What visibility level new groups receive. Can take `private`, `internal` and `public` as a parameter. Default is `private`. Changed in GitLab 16.4: cannot be set to any levels in `restricted_visibility_levels`.

##### `default_preferred_language`

Data type: `Optional[String]`

Default preferred language for users who are not logged in.

##### `default_project_creation`

Data type: `Optional[Integer[0, 4]]`

Default minimum role required to create projects. Can take: `0` _(No one)_, `1` _(Maintainers)_, `2` _(Developers)_, `3` _(Administrators)_ or `4` _(Owners)_.

##### `default_project_deletion_protection`

Data type: `Optional[Boolean]`

Enable default project deletion protection so only administrators can delete projects. Default is `false`. GitLab Self-Managed, Premium and Ultimate only.

##### `default_project_visibility`

Data type: `Optional[Enum['private', 'internal', 'public']]`

What visibility level new projects receive. Can take `private`, `internal` and `public` as a parameter. Default is `private`. Changed in GitLab 16.4: cannot be set to any levels in `restricted_visibility_levels`.

##### `default_projects_limit`

Data type: `Optional[Integer[0]]`

Project limit per user. Default is `100000`.

##### `default_snippet_visibility`

Data type: `Optional[Enum['private', 'internal', 'public']]`

What visibility level new snippets receive. Can take `private`, `internal` and `public` as a parameter. Default is `private`.

##### `default_syntax_highlighting_theme`

Data type: `Optional[Integer[0]]`

Default syntax highlighting theme for users who are new or not signed in. See IDs of available themes.

##### `delete_unconfirmed_users`

Data type: `Optional[Boolean]`

Specifies whether users who have not confirmed their email should be deleted. Default is `false`. When set to `true`, unconfirmed users are deleted after `unconfirmed_users_delete_after_days` days. Introduced in GitLab 16.1. GitLab Self-Managed, Premium and Ultimate only.

##### `deletion_adjourned_period`

Data type: `Optional[Integer[1, 90]]`

Number of days to wait before deleting a project or group that is marked for deletion. Value must be between `1` and `90`. Defaults to `30`.

##### `diagramsnet_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires `diagramsnet_url`) Enable Diagrams.net integration. Default is `true`.

##### `diagramsnet_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

The Diagrams.net instance URL for integration. Required by: `diagramsnet_enabled`

##### `diff_max_files`

Data type: `Optional[Integer[0]]`

Maximum files in a diff.

##### `diff_max_lines`

Data type: `Optional[Integer[0]]`

Maximum lines in a diff.

##### `diff_max_patch_bytes`

Data type: `Optional[Integer[0]]`

Maximum diff patch size, in bytes.

##### `disable_admin_oauth_scopes`

Data type: `Optional[Boolean]`

Stops administrators from connecting their GitLab accounts to non-trusted OAuth 2.0 applications that have the `api`, `read_api`, `read_repository`, `write_repository`, `read_registry`, `write_registry`, or `sudo` scopes.

##### `disable_feed_token`

Data type: `Optional[Boolean]`

Disable display of RSS/Atom and calendar feed tokens.

##### `disable_invite_members`

Data type: `Optional[Boolean]`

Disable invite members functionality for group.

##### `disable_overriding_approvers_per_merge_request`

Data type: `Optional[Boolean]`

Prevent editing approval rules in projects and merge requests

##### `disable_personal_access_tokens`

Data type: `Optional[Boolean]`

Disable personal access tokens. GitLab Self-Managed, Premium and Ultimate only. There is no method available to enable a personal access token that's been disabled through the API. This is a known issue. For more information about available workarounds, see Workaround.

##### `disabled_oauth_sign_in_sources`

Data type: `Optional[Array[String[1]]]`

Disabled OAuth sign-in sources.

##### `dns_rebinding_protection_enabled`

Data type: `Optional[Boolean]`

Enforce DNS-rebinding attack protection.

##### `domain_allowlist`

Data type: `Optional[Array[String[1]]]`

Force people to use only corporate emails for sign-up. Default is `null`, meaning there is no restriction.

##### `domain_denylist`

Data type: `Optional[Array[String[1]]]`

Users with email addresses that match these domains cannot sign up. Wildcards allowed. Enter multiple entries on separate lines. For example: `domain.com`, `*.domain.com`.

##### `domain_denylist_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `domain_denylist`) Allows blocking sign-ups from emails from specific domains.

##### `downstream_pipeline_trigger_limit_per_project_user_sha`

Data type: `Optional[Integer[0]]`

Maximum downstream pipeline trigger rate. Default: `0` (no restriction). Introduced in GitLab 16.10.

##### `dsa_key_restriction`

Data type: `Optional[Integer[-1]]`

The minimum allowed bit length of an uploaded DSA key. Default is `0` (no restriction). `-1` disables DSA keys.

##### `duo_features_enabled`

Data type: `Optional[Boolean]`

Indicates whether GitLab Duo features are enabled for this instance. Introduced in GitLab 16.10. GitLab Self-Managed, Premium and Ultimate only.

##### `ecdsa_key_restriction`

Data type: `Optional[Integer[-1]]`

The minimum allowed curve size (in bits) of an uploaded ECDSA key. Default is `0` (no restriction). `-1` disables ECDSA keys.

##### `ecdsa_sk_key_restriction`

Data type: `Optional[Integer[-1]]`

The minimum allowed curve size (in bits) of an uploaded ECDSA_SK key. Default is `0` (no restriction). `-1` disables ECDSA_SK keys.

##### `ed25519_key_restriction`

Data type: `Optional[Integer[-1]]`

The minimum allowed curve size (in bits) of an uploaded ED25519 key. Default is `0` (no restriction). `-1` disables ED25519 keys.

##### `ed25519_sk_key_restriction`

Data type: `Optional[Integer[-1]]`

The minimum allowed curve size (in bits) of an uploaded ED25519_SK key. Default is `0` (no restriction). `-1` disables ED25519_SK keys.

##### `eks_access_key_id`

Data type: `Optional[String]`

AWS IAM access key ID.

##### `eks_account_id`

Data type: `Optional[String]`

Amazon account ID.

##### `eks_integration_enabled`

Data type: `Optional[Boolean]`

Enable integration with Amazon EKS.

##### `eks_secret_access_key`

Data type: `Optional[String]`

AWS IAM secret access key.

##### `elasticsearch_aws`

Data type: `Optional[Boolean]`

Enable the use of AWS hosted Elasticsearch. Premium and Ultimate only.

##### `elasticsearch_aws_access_key`

Data type: `Optional[String]`

AWS IAM access key. Premium and Ultimate only.

##### `elasticsearch_aws_region`

Data type: `Optional[String]`

The AWS region the Elasticsearch domain is configured. Premium and Ultimate only.

##### `elasticsearch_aws_secret_access_key`

Data type: `Optional[String]`

AWS IAM secret access key. Premium and Ultimate only.

##### `elasticsearch_indexed_field_length_limit`

Data type: `Optional[Integer[0]]`

Maximum size of text fields to index by Elasticsearch. 0 value means no limit. This does not apply to repository and wiki indexing. Premium and Ultimate only.

##### `elasticsearch_indexed_file_size_limit_kb`

Data type: `Optional[Integer[0]]`

Maximum size of repository and wiki files that are indexed by Elasticsearch. Premium and Ultimate only.

##### `elasticsearch_indexing`

Data type: `Optional[Boolean]`

Enable Elasticsearch indexing. Premium and Ultimate only.

##### `elasticsearch_limit_indexing`

Data type: `Optional[Boolean]`

Limit Elasticsearch to index certain namespaces and projects. Premium and Ultimate only.

##### `elasticsearch_max_bulk_concurrency`

Data type: `Optional[Integer[0]]`

Maximum concurrency of Elasticsearch bulk requests per indexing operation. This only applies to repository indexing operations. Premium and Ultimate only.

##### `elasticsearch_max_bulk_size_mb`

Data type: `Optional[Integer[0]]`

Maximum size of Elasticsearch bulk indexing requests in MB. This only applies to repository indexing operations. Premium and Ultimate only.

##### `elasticsearch_max_code_indexing_concurrency`

Data type: `Optional[Integer[0]]`

Maximum concurrency of Elasticsearch code indexing background jobs. This only applies to repository indexing operations. Premium and Ultimate only.

##### `elasticsearch_namespace_ids`

Data type: `Optional[Array[Integer[0]]]`

The namespaces to index via Elasticsearch if `elasticsearch_limit_indexing` is enabled. Premium and Ultimate only.

##### `elasticsearch_password`

Data type: `Optional[Variant[Sensitive[String[1]], String[1]]]`

The password of your Elasticsearch instance. Premium and Ultimate only.

##### `elasticsearch_prefix`

Data type: `Optional[String[1, 100]]`

Custom prefix for Elasticsearch index names. Defaults to `gitlab`. Must be 1-100 characters, contain only lowercase alphanumeric characters, hyphens, and underscores, and cannot start or end with a hyphen or underscore. Premium and Ultimate only.

##### `elasticsearch_project_ids`

Data type: `Optional[Array[Integer[0]]]`

The projects to index via Elasticsearch if `elasticsearch_limit_indexing` is enabled. Premium and Ultimate only.

##### `elasticsearch_requeue_workers`

Data type: `Optional[Boolean]`

Enable automatic requeuing of indexing workers. This improves non-code indexing throughput by enqueuing Sidekiq jobs until all documents are processed. Premium and Ultimate only.

##### `elasticsearch_retry_on_failure`

Data type: `Optional[Integer[0]]`

Maximum number of possible retries for Elasticsearch search requests. Premium and Ultimate only.

##### `elasticsearch_search`

Data type: `Optional[Boolean]`

Enable Elasticsearch search. Premium and Ultimate only.

##### `elasticsearch_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

The URL to use for connecting to Elasticsearch. Use a comma-separated list to support cluster (for example, `http://localhost:9200, http://localhost:9201\"`). Premium and Ultimate only.

##### `elasticsearch_username`

Data type: `Optional[String]`

The `username` of your Elasticsearch instance. Premium and Ultimate only.

##### `elasticsearch_worker_number_of_shards`

Data type: `Optional[Integer[0]]`

Number of indexing worker shards. This improves non-code indexing throughput by enqueuing more parallel Sidekiq jobs. Default is `2`. Premium and Ultimate only.

##### `email_additional_text`

Data type: `Optional[String]`

Additional text added to the bottom of every email for legal/auditing/compliance reasons. Premium and Ultimate only.

##### `email_author_in_body`

Data type: `Optional[Boolean]`

Some email servers do not support overriding the email sender name. Enable this option to include the name of the author of the issue, merge request or comment in the email body instead.

##### `email_confirmation_setting`

Data type: `Optional[Enum['off', 'soft', 'hard']]`

Specifies whether users must confirm their email before sign in. Possible values are `off`, `soft`, and `hard`.

##### `email_restrictions`

Data type: `Optional[Variant[String, Regexp]]`

Regular expression that is checked against the email used during registration. Required by: `email_restrictions_enabled`

##### `email_restrictions_enabled`

Data type: `Optional[Boolean]`

Enable restriction for sign-up by email.

##### `enable_artifact_external_redirect_warning_page`

Data type: `Optional[Boolean]`

Show the external redirect page that warns you about user-generated content in GitLab Pages.

##### `enabled_git_access_protocol`

Data type: `Optional[Enum['ssh', 'http', 'all']]`

Enabled protocols for Git access. Allowed values are: `ssh`, `http`, and `all` to allow both protocols. `all` value introduced in GitLab 16.9.

##### `enforce_namespace_storage_limit`

Data type: `Optional[Boolean]`

Enabling this permits enforcement of namespace storage limits.

##### `enforce_pipl_compliance`

Data type: `Optional[Boolean]`

Sets whether pipl compliance is enforced for the saas application or not

##### `enforce_terms`

Data type: `Optional[Boolean]`

(If enabled, requires: `terms`) Enforce application ToS to all users.

##### `external_auth_client_cert`

Data type: `Optional[String]`

(If enabled, requires: `external_auth_client_key`) The certificate to use to authenticate with the external authorization service.

##### `external_auth_client_key`

Data type: `Optional[Variant[Sensitive[String[1]], String[1]]]`

Private key for the certificate when authentication is required for the external authorization service, this is encrypted when stored. Required by: `external_auth_client_cert`

##### `external_auth_client_key_pass`

Data type: `Optional[Variant[Sensitive[String[1]], String[1]]]`

Passphrase to use for the private key when authenticating with the external service this is encrypted when stored.

##### `external_authorization_service_default_label`

Data type: `Optional[String]`

The default classification label to use when requesting authorization and no classification label has been specified on the project. Required by:`external_authorization_service_enabled`

##### `external_authorization_service_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `external_authorization_service_default_label`, `external_authorization_service_timeout` and `external_authorization_service_url`) Enable using an external authorization service for accessing projects.

##### `external_authorization_service_timeout`

Data type: `Optional[Float[0.001, 10]]`

The timeout after which an authorization request is aborted, in seconds. When a request times out, access is denied to the user. (min: 0.001, max: 10, step: 0.001). Required by:`external_authorization_service_enabled`

##### `external_authorization_service_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

URL to which authorization requests are directed. Required by:`external_authorization_service_enabled`

##### `external_pipeline_validation_service_timeout`

Data type: `Optional[Integer[0]]`

How long to wait for a response from the pipeline validation service. Assumes `OK` if it times out.

##### `external_pipeline_validation_service_token`

Data type: `Optional[String]`

Optional. Token to include as the `X-Gitlab-Token` header in requests to the URL in `external_pipeline_validation_service_url`.

##### `external_pipeline_validation_service_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

URL to use for pipeline validation requests.

##### `failed_login_attempts_unlock_period_in_minutes`

Data type: `Optional[Integer[0]]`

Time period in minutes after which the user is unlocked when maximum number of failed sign-in attempts reached.

##### `file_template_project_id`

Data type: `Optional[Integer[0]]`

The ID of a project to load custom file templates from. Premium and Ultimate only.

##### `first_day_of_week`

Data type: `Optional[Variant[Integer[0, 1], Integer[6]]]`

Start day of the week for calendar views and date pickers. Valid values are `0` (default) for Sunday, `1` for Monday, and `6` for Saturday.

##### `geo_node_allowed_ips`

Data type: `Optional[String[1]]`

Comma-separated list of IPs and CIDRs of allowed secondary nodes. For example, `1.1.1.1, 2.2.2.0/24`. GitLab Self-Managed, Premium and Ultimate only. Yes

##### `geo_status_timeout`

Data type: `Optional[Integer[0]]`

The amount of seconds after which a request to get a secondary node status times out. GitLab Self-Managed, Premium and Ultimate only.

##### `git_push_pipeline_limit`

Data type: `Optional[Integer[0]]`

Set the maximum number of tag or branch pipelines that can be triggered by a single Git push. For more information about this limit, see number of pipelines per Git push.

##### `git_rate_limit_users_alertlist`

Data type: `Optional[Array[Integer[0], 0, 100]]`

List of user IDs that are emailed when the Git abuse rate limit is exceeded. Default: `[]`, Maximum: 100 user IDs. GitLab Self-Managed, Ultimate only.

##### `git_rate_limit_users_allowlist`

Data type: `Optional[Array[String[1], 0, 100]]`

List of usernames excluded from Git anti-abuse rate limits. Default: `[]`, Maximum: 100 usernames. GitLab Self-Managed, Ultimate only.

##### `git_two_factor_session_expiry`

Data type: `Optional[Integer[0]]`

Maximum duration (in minutes) of a session for Git operations when 2FA is enabled. Premium and Ultimate only.

##### `gitaly_timeout_default`

Data type: `Optional[Integer[0]]`

Default Gitaly timeout, in seconds. This timeout is not enforced for Git fetch/push operations or Sidekiq jobs. Set to `0` to disable timeouts.

##### `gitaly_timeout_fast`

Data type: `Optional[Integer[0]]`

Gitaly fast operation timeout, in seconds. Some Gitaly operations are expected to be fast. If they exceed this threshold, there may be a problem with a storage shard and 'failing fast' can help maintain the stability of the GitLab instance. Set to `0` to disable timeouts.

##### `gitaly_timeout_medium`

Data type: `Optional[Integer[0]]`

Medium Gitaly timeout, in seconds. This should be a value between the Fast and the Default timeout. Set to `0` to disable timeouts.

##### `gitlab_dedicated_instance`

Data type: `Optional[Boolean]`

Indicates whether the instance was provisioned for GitLab Dedicated.

##### `gitlab_environment_toolkit_instance`

Data type: `Optional[Boolean]`

Indicates whether the instance was provisioned with the GitLab Environment Toolkit for Service Ping reporting.

##### `gitlab_shell_operation_limit`

Data type: `Optional[Integer[0]]`

Maximum number of Git operations per minute a user can perform. Default: `600`. Introduced in GitLab 16.2.

##### `gitpod_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `gitpod_url`) Enable Gitpod integration. Default is `false`.

##### `gitpod_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

The Gitpod instance URL for integration. Required by: `gitpod_enabled`

##### `globally_allowed_ips`

Data type: `Optional[String[1]]`

Comma-separated list of IP addresses and CIDRs always allowed for inbound traffic. For example, `1.1.1.1, 2.2.2.0/24`.

##### `grafana_enabled`

Data type: `Optional[Boolean]`

Enable Grafana.

##### `grafana_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

Grafana URL.

##### `gravatar_enabled`

Data type: `Optional[Boolean]`

Enable Gravatar.

##### `group_owners_can_manage_default_branch_protection`

Data type: `Optional[Boolean]`

Prevent overrides of default branch protection. GitLab Self-Managed, Premium and Ultimate only.

##### `group_runner_token_expiration_interval`

Data type: `Optional[Integer[7200]]`

Set the expiration time (in seconds) of authentication tokens of newly registered group runners. Minimum value is 7200 seconds. For more information, see Automatically rotate authentication tokens.

##### `hashed_storage_enabled`

Data type: `Optional[Boolean]`

Create new projects using hashed storage paths: Enable immutable, hash-based paths and repository names to store repositories on disk. This prevents repositories from having to be moved or renamed when the Project URL changes and may improve disk I/O performance. (Always enabled in GitLab versions 13.0 and later, configuration is scheduled for removal in 14.0)

##### `helm_max_packages_count`

Data type: `Optional[Integer[1]]`

Maximum number of Helm packages that can be listed per channel. Must be at least 1. Default is 1000.

##### `help_page_hide_commercial_content`

Data type: `Optional[Boolean]`

Hide marketing-related entries from help.

##### `help_page_support_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

Alternate support URL for help page and help dropdown list.

##### `help_page_text`

Data type: `Optional[String]`

Custom text displayed on the help page.

##### `hide_third_party_offers`

Data type: `Optional[Boolean]`

Do not display offers from third parties in GitLab.

##### `home_page_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

Redirect to this URL when not logged in.

##### `housekeeping_bitmaps_enabled`

Data type: `Optional[Boolean]`

Deprecated. Git packfile bitmap creation is always enabled and cannot be changed via API and UI. Always returns `true`.

##### `housekeeping_enabled`

Data type: `Optional[Boolean]`

Enable or disable Git housekeeping. Requires additional fields to be set.

##### `housekeeping_full_repack_period`

Data type: `Optional[Integer[0]]`

Deprecated. Number of Git pushes after which an incremental `git repack` is run. Use `housekeeping_optimize_repository_period` instead.

##### `housekeeping_gc_period`

Data type: `Optional[Integer[0]]`

Deprecated. Number of Git pushes after which `git gc` is run. Use `housekeeping_optimize_repository_period` instead.

##### `housekeeping_incremental_repack_period`

Data type: `Optional[Integer[0]]`

Deprecated. Number of Git pushes after which an incremental `git repack` is run. Use `housekeeping_optimize_repository_period` instead.

##### `housekeeping_optimize_repository_period`

Data type: `Optional[Integer[0]]`

Number of Git pushes after which an incremental `git repack` is run.

##### `html_emails_enabled`

Data type: `Optional[Boolean]`

Enable HTML emails.

##### `import_sources`

Data type: `Optional[Array[Enum['github', 'bitbucket', 'bitbucket_server', 'fogbugz', 'git', 'gitlab_project', 'gitea', 'manifest']]]`

Sources to allow project import from, possible values: `github`, `bitbucket`, `bitbucket_server`, `fogbugz`, `git`, `gitlab_project`, `gitea`, and `manifest`.

##### `inactive_resource_access_tokens_delete_after_days`

Data type: `Optional[Integer[0]]`

Specifies retention period for inactive project and group access tokens. Default is `30`.

##### `include_optional_metrics_in_service_ping`

Data type: `Optional[Boolean]`

Whether or not optional metrics are enabled in Service Ping. Introduced in GitLab 16.10.

##### `invisible_captcha_enabled`

Data type: `Optional[Boolean]`

Enable Invisible CAPTCHA spam detection during sign-up. Disabled by default.

##### `issues_create_limit`

Data type: `Optional[Integer[0]]`

Max number of issue creation requests per minute per user. Disabled by default.

##### `jira_connect_application_key`

Data type: `Optional[String]`

ID of the OAuth application used to authenticate with the GitLab for Jira Cloud app.

##### `jira_connect_proxy_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

URL of the GitLab instance used as a proxy for the GitLab for Jira Cloud app.

##### `jira_connect_public_key_storage_enabled`

Data type: `Optional[Boolean]`

Enable public key storage for the GitLab for Jira Cloud app.

##### `keep_latest_artifact`

Data type: `Optional[Boolean]`

Prevent the deletion of the artifacts from the most recent successful jobs, regardless of the expiry time. Enabled by default.

##### `kroki_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `kroki_url`) Enable Kroki integration. Default is `false`.

##### `kroki_formats`

Data type: `Optional[Hash]`

Additional formats supported by the Kroki instance. Possible values are `true` or `false` for formats `bpmn`, `blockdiag`, and `excalidraw` in the format `: true` or `: false`.

##### `kroki_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

The Kroki instance URL for integration. Required by: `kroki_enabled`

##### `local_markdown_version`

Data type: `Optional[Integer[0]]`

Increase this value when any cached Markdown should be invalidated.

##### `lock_duo_features_enabled`

Data type: `Optional[Boolean]`

Indicates whether the GitLab Duo features enabled setting is enforced for all subgroups. Introduced in GitLab 16.10. GitLab Self-Managed, Premium and Ultimate only.

##### `lock_memberships_to_saml`

Data type: `Optional[Boolean]`

Enforce a global lock on SAML group memberships.

##### `login_recaptcha_protection_enabled`

Data type: `Optional[Boolean]`

Enable reCAPTCHA for login.

##### `mailgun_events_enabled`

Data type: `Optional[Boolean]`

Enable Mailgun event receiver.

##### `mailgun_signing_key`

Data type: `Optional[String]`

The Mailgun HTTP webhook signing key for receiving events from webhook.

##### `maintenance_mode`

Data type: `Optional[Boolean]`

When instance is in maintenance mode, non-administrative users can sign in with read-only access and make read-only API requests. Premium and Ultimate only.

##### `maintenance_mode_message`

Data type: `Optional[String]`

Message displayed when instance is in maintenance mode. Premium and Ultimate only.

##### `maven_package_requests_forwarding`

Data type: `Optional[Boolean]`

Use repo.maven.apache.org as a default remote repository when the package is not found in the GitLab package registry for Maven. Premium and Ultimate only.

##### `max_artifacts_size`

Data type: `Optional[Integer[0]]`

Maximum artifacts size in MB.

##### `max_attachment_size`

Data type: `Optional[Integer[0]]`

Limit attachment size in MB.

##### `max_decompressed_archive_size`

Data type: `Optional[Integer[0]]`

Maximum decompressed file size for imported archives in MB. Set to `0` for unlimited. Default is `25600`.

##### `max_export_size`

Data type: `Optional[Integer[0]]`

Maximum export size in MB. 0 for unlimited. Default = 0 (unlimited).

##### `max_github_response_json_value_count`

Data type: `Optional[Integer[0]]`

Maximum allowed value count for GitHub API responses. 0 for unlimited. Count is an estimate based on the number of `:` `,` `{` and `[` occurrences in the response.

##### `max_github_response_size_limit`

Data type: `Optional[Integer[0]]`

Maximum allowed GitHub API response size in MB. 0 for unlimited.

##### `max_http_decompressed_size`

Data type: `Optional[Integer[0]]`

Maximum allowed size in MiB for Gzip-compressed HTTP responses after decompression. 0 for unlimited.

##### `max_http_response_size_limit`

Data type: `Optional[Integer[0]]`

Maximum allowed size in MiB for HTTP responses. 0 for unlimited.

##### `max_import_remote_file_size`

Data type: `Optional[Integer[0]]`

Maximum remote file size for imports from external object storages. Introduced in GitLab 16.3.

##### `max_import_size`

Data type: `Optional[Integer[0]]`

Maximum import size in MB. 0 for unlimited. Default = 0 (unlimited).

##### `max_login_attempts`

Data type: `Optional[Integer[0]]`

Maximum number of sign-in attempts before locking out the user.

##### `max_number_of_repository_downloads`

Data type: `Optional[Integer[0, 10000]]`

Maximum number of unique repositories a user can download in the specified time period before they are banned. Default: 0, Maximum: 10,000 repositories. GitLab Self-Managed, Ultimate only.

##### `max_number_of_repository_downloads_within_time_period`

Data type: `Optional[Integer[0, 864000]]`

Reporting time period (in seconds). Default: 0, Maximum: 864000 seconds (10 days). GitLab Self-Managed, Ultimate only.

##### `max_pages_size`

Data type: `Optional[Integer[0]]`

Maximum size of pages repositories in MB.

##### `max_personal_access_token_lifetime`

Data type: `Optional[Integer[0, 400]]`

Maximum allowable lifetime for access tokens in days. When left blank, default value of 365 is applied. When set, value must be 365 or less. When changed, existing access tokens with an expiration date beyond the maximum allowable lifetime are revoked. GitLab Self-Managed, Ultimate only. In GitLab 17.6 or later, the maximum lifetime limit can be extended to 400 days by enabling a feature flag named `buffered_token_expiration_limit`.

##### `max_ssh_key_lifetime`

Data type: `Optional[Integer[0]]`

Maximum allowable lifetime for SSH keys in days. GitLab Self-Managed, Ultimate only. In GitLab 17.6 or later, the maximum lifetime limit can be extended to 400 days by enabling a feature flag named `buffered_token_expiration_limit`.

##### `max_terraform_state_size_bytes`

Data type: `Optional[Integer[0]]`

Maximum size in bytes of the Terraform state files. Set this to 0 for unlimited file size.

##### `max_yaml_depth`

Data type: `Optional[Integer[0]]`

The maximum depth of nested CI/CD configuration added with the `include` keyword. Default: `100`.

##### `max_yaml_size_bytes`

Data type: `Optional[Integer[0]]`

The maximum size in bytes of a single CI/CD configuration file. Default: `2097152`.

##### `metrics_method_call_threshold`

Data type: `Optional[Integer[0]]`

A method call is only tracked when it takes longer than the given amount of milliseconds.

##### `minimum_password_length`

Data type: `Optional[Integer[0]]`

Indicates whether passwords require a minimum length. Premium and Ultimate only.

##### `mirror_available`

Data type: `Optional[Boolean]`

Allow repository mirroring to configured by project Maintainers. If disabled, only Administrators can configure repository mirroring.

##### `mirror_capacity_threshold`

Data type: `Optional[Integer[0]]`

Minimum capacity to be available before scheduling more mirrors preemptively. Premium and Ultimate only.

##### `mirror_max_capacity`

Data type: `Optional[Integer[0]]`

Maximum number of mirrors that can be synchronizing at the same time. Premium and Ultimate only.

##### `mirror_max_delay`

Data type: `Optional[Integer[0]]`

Maximum time (in minutes) between updates that a mirror can have when scheduled to synchronize. Premium and Ultimate only.

##### `notify_on_unknown_sign_in`

Data type: `Optional[Boolean]`

Enable sending notification if sign in from unknown IP address happens.

##### `npm_package_requests_forwarding`

Data type: `Optional[Boolean]`

Use npmjs.org as a default remote repository when the package is not found in the GitLab package registry for npm. Premium and Ultimate only.

##### `nuget_skip_metadata_url_validation`

Data type: `Optional[Boolean]`

Indicates whether to skip metadata URL validation for the NuGet package. Introduced in GitLab 17.0.

##### `outbound_local_requests_whitelist`

Data type: `Optional[Variant[Stdlib::FQDN, Stdlib::IP::Address::Nosubnet]]`

Define a list of trusted domains or IP addresses to which local requests are allowed when local requests for webhooks and integrations are disabled.

##### `package_metadata_purl_types`

Data type: `Optional[Array[Integer[0]]]`

List of package registry metadata to sync. See the list of the available values. GitLab Self-Managed, Ultimate only.

##### `package_registry_allow_anyone_to_pull_option`

Data type: `Optional[Boolean]`

Enable to allow anyone to pull from package registry visible and changeable.

##### `package_registry_cleanup_policies_worker_capacity`

Data type: `Optional[Integer[0]]`

Number of workers assigned to the packages cleanup policies.

##### `pages_domain_verification_enabled`

Data type: `Optional[Boolean]`

Require users to prove ownership of custom domains. Domain verification is an essential security measure for public GitLab sites. Users are required to demonstrate they control a domain before it is enabled.

##### `pages_unique_domain_default_enabled`

Data type: `Optional[Boolean]`

Enable unique domains by default for Pages sites to avoid cookie sharing between sites under a given namespace. Default is `true`.

##### `password_authentication_enabled_for_git`

Data type: `Optional[Boolean]`

Enable authentication for Git over HTTP(S) via a GitLab account password. Default is `true`.

##### `password_authentication_enabled_for_web`

Data type: `Optional[Boolean]`

Enable authentication for the web interface via a GitLab account password. Default is `true`.

##### `password_lowercase_required`

Data type: `Optional[Boolean]`

Indicates whether passwords require at least one lowercase letter. Premium and Ultimate only.

##### `password_number_required`

Data type: `Optional[Boolean]`

Indicates whether passwords require at least one number. Premium and Ultimate only.

##### `password_symbol_required`

Data type: `Optional[Boolean]`

Indicates whether passwords require at least one symbol character. Premium and Ultimate only.

##### `password_uppercase_required`

Data type: `Optional[Boolean]`

Indicates whether passwords require at least one uppercase letter. Premium and Ultimate only.

##### `performance_bar_allowed_group_id`

Data type: `Optional[String]`

(Deprecated: Use `performance_bar_allowed_group_path` instead) Path of the group that is allowed to toggle the performance bar.

##### `performance_bar_allowed_group_path`

Data type: `Optional[String]`

Path of the group that is allowed to toggle the performance bar.

##### `performance_bar_enabled`

Data type: `Optional[Boolean]`

(Deprecated: Pass `performance_bar_allowed_group_path: nil` instead) Allow enabling the performance bar.

##### `personal_access_token_prefix`

Data type: `Optional[String]`

Prefix for all generated personal access tokens.

##### `pipeline_limit_per_project_user_sha`

Data type: `Optional[Integer[0]]`

Maximum number of pipeline creation requests per minute per user and commit. Disabled by default.

##### `plantuml_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `plantuml_url`) Enable PlantUML integration. Default is `false`.

##### `plantuml_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

The PlantUML instance URL for integration. Required by: `plantuml_enabled`

##### `polling_interval_multiplier`

Data type: `Optional[Variant[Float, String]]`

Interval multiplier used by endpoints that perform polling. Set to `0` to disable polling.

##### `prevent_merge_requests_author_approval`

Data type: `Optional[Boolean]`

Prevent approval by author

##### `prevent_merge_requests_committers_approval`

Data type: `Optional[Boolean]`

Prevent approval by committers to merge requests

##### `project_export_enabled`

Data type: `Optional[Boolean]`

Enable project export.

##### `project_jobs_api_rate_limit`

Data type: `Optional[Integer[0]]`

Maximum authenticated requests to `/project/:id/jobs` per minute. Introduced in GitLab 16.5. Default: 600.

##### `project_runner_token_expiration_interval`

Data type: `Optional[Integer[0]]`

Set the expiration time (in seconds) of authentication tokens of newly registered project runners. Minimum value is 7200 seconds. For more information, see Automatically rotate authentication tokens.

##### `projects_api_rate_limit_unauthenticated`

Data type: `Optional[Integer[0]]`

Max number of requests per 10 minutes per IP address for unauthenticated requests to the list all projects API. Default: 400. To disable throttling set to 0.

##### `prometheus_metrics_enabled`

Data type: `Optional[Boolean]`

Enable Prometheus metrics.

##### `protected_ci_variables`

Data type: `Optional[Boolean]`

CI/CD variables are protected by default.

##### `push_event_activities_limit`

Data type: `Optional[Integer[0]]`

Maximum number of changes (branches or tags) in a single push above which a bulk push event is created. Setting to `0` does not disable throttling.

##### `push_event_hooks_limit`

Data type: `Optional[Integer[0]]`

Maximum number of changes (branches or tags) in a single push above which webhooks and integrations are not triggered. Setting to `0` does not disable throttling.

##### `pypi_package_requests_forwarding`

Data type: `Optional[Boolean]`

Use pypi.org as a default remote repository when the package is not found in the GitLab package registry for PyPI. Premium and Ultimate only.

##### `rate_limiting_response_text`

Data type: `Optional[String]`

When rate limiting is enabled via the `throttle_*` settings, send this plain text response when a rate limit is exceeded. 'Retry later' is sent if this is blank.

##### `raw_blob_request_limit`

Data type: `Optional[Integer[0]]`

Maximum number of requests per minute for each raw path (default is `300`). Set to `0` to disable throttling.

##### `recaptcha_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `recaptcha_private_key` and `recaptcha_site_key`) Enable reCAPTCHA.

##### `recaptcha_private_key`

Data type: `Optional[String]`

Private key for reCAPTCHA. Required by: `recaptcha_enabled`

##### `recaptcha_site_key`

Data type: `Optional[String]`

Site key for reCAPTCHA. Required by: `recaptcha_enabled`

##### `receive_max_input_size`

Data type: `Optional[Integer[0]]`

Maximum push size (MB).

##### `receptive_cluster_agents_enabled`

Data type: `Optional[Boolean]`

Enable receptive mode for GitLab agents for Kubernetes.

##### `relation_export_batch_size`

Data type: `Optional[Integer[0]]`

The size of each batch when exporting batched relations. Introduced in GitLab 18.2.

##### `remember_me_enabled`

Data type: `Optional[Boolean]`

Enable Remember me setting. Introduced in GitLab 16.0.

##### `repository_checks_enabled`

Data type: `Optional[Boolean]`

GitLab periodically runs `git fsck` in all project and wiki repositories to look for silent disk corruption issues.

##### `repository_size_limit`

Data type: `Optional[Integer[0]]`

Size limit per repository (MB). Premium and Ultimate only.

##### `repository_storages_weighted`

Data type: `Optional[Hash[String[1], Integer[0]]]`

Hash of names of taken from `gitlab.yml` to weights. New projects are created in one of these stores, chosen by a weighted random selection.

##### `require_admin_approval_after_user_signup`

Data type: `Optional[Boolean]`

When enabled, any user that signs up for an account using the registration form is placed under a Pending approval state and has to be explicitly approved by an administrator.

##### `require_admin_two_factor_authentication`

Data type: `Optional[Boolean]`

Allow administrators to require 2FA for all administrators on the instance.

##### `require_email_verification_on_account_locked`

Data type: `Optional[Boolean]`

If `true`, all users on the instance must verify their identity after suspicious sign-in activity is detected.

##### `require_personal_access_token_expiry`

Data type: `Optional[Boolean]`

When enabled, users must set an expiration date when creating a group or project access token, or a personal access token owned by a non-service account.

##### `require_two_factor_authentication`

Data type: `Optional[Boolean]`

(If enabled, requires: `two_factor_grace_period`) Require all users to set up two-factor authentication.

##### `resource_usage_limits`

Data type: `Optional[Hash]`

Definition for resource usage limits enforced in Sidekiq workers. This setting is available for GitLab.com only.

##### `restricted_visibility_levels`

Data type: `Optional[Array[Enum['private', 'internal', 'public']]]`

Selected levels cannot be used by non-Administrator users for groups, projects or snippets. Can take `private`, `internal` and `public` as a parameter. Default is `null` which means there is no restriction.Changed in GitLab 16.4: cannot select levels that are set as `default_project_visibility` and `default_group_visibility`.

##### `rsa_key_restriction`

Data type: `Optional[Integer[-1]]`

The minimum allowed bit length of an uploaded RSA key. Default is `0` (no restriction). `-1` disables RSA keys.

##### `runner_token_expiration_interval`

Data type: `Optional[Integer[0]]`

Set the expiration time (in seconds) of authentication tokens of newly registered instance runners. Minimum value is 7200 seconds. For more information, see Automatically rotate authentication tokens.

##### `scan_execution_policies_action_limit`

Data type: `Optional[Integer[0, 20]]`

Maximum number of `actions` per scan execution policy. Default: 0. Maximum: 20

##### `scan_execution_policies_schedule_limit`

Data type: `Optional[Integer[0, 20]]`

Maximum number of `type: schedule` rules per scan execution policy. Default: 0. Maximum: 20

##### `search_rate_limit`

Data type: `Optional[Integer[0]]`

Max number of requests per minute for performing a search while authenticated. Default: 30. To disable throttling set to 0.

##### `search_rate_limit_unauthenticated`

Data type: `Optional[Integer[0]]`

Max number of requests per minute for performing a search while unauthenticated. Default: 10. To disable throttling set to 0.

##### `secret_push_protection_available`

Data type: `Optional[Boolean]`

Allow projects to enable secret push protection. This does not enable secret push protection. Ultimate only.

##### `security_approval_policies_limit`

Data type: `Optional[Integer[0, 20]]`

Maximum number of active merge request approval policies per security policy project. Default: 5. Maximum: 20

##### `security_policy_global_group_approvers_enabled`

Data type: `Optional[Boolean]`

Whether to look up merge request approval policy approval groups globally or within project hierarchies.

##### `security_txt_content`

Data type: `Optional[String]`

Public security contact information. Introduced in GitLab 16.7.

##### `service_access_tokens_expiration_enforced`

Data type: `Optional[Boolean]`

Flag to indicate if token expiry date can be optional for service account users

##### `session_expire_delay`

Data type: `Optional[Integer[0]]`

Session duration in minutes. GitLab restart is required to apply changes.

##### `session_expire_from_init`

Data type: `Optional[Boolean]`

If `true`, sessions expire a number of minutes after the session was created rather than after the last activity. This lifetime of a session is defined by `session_expire_delay`.

##### `shared_runners_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `shared_runners_text` and `shared_runners_minutes`) Enable instance runners for new projects.

##### `shared_runners_minutes`

Data type: `Optional[Integer[0]]`

Set the maximum number of compute minutes that a group can use on instance runners per month. Premium and Ultimate only. Required by: `shared_runners_enabled`

##### `shared_runners_text`

Data type: `Optional[String]`

Instance runners text. Required by: `shared_runners_enabled`

##### `sidekiq_job_limiter_compression_threshold_bytes`

Data type: `Optional[Integer[0]]`

The threshold in bytes at which Sidekiq jobs are compressed before being stored in Redis. Default: 100,000 bytes (100 KB).

##### `sidekiq_job_limiter_limit_bytes`

Data type: `Optional[Integer[0]]`

The threshold in bytes at which Sidekiq jobs are rejected. Default: 0 bytes (doesn't reject any job).

##### `sidekiq_job_limiter_mode`

Data type: `Optional[Enum['track', 'compress']]`

`track` or `compress`. Sets the behavior for Sidekiq job size limits. Default: 'compress'.

##### `sign_in_restrictions`

Data type: `Optional[Hash]`

Application sign in restrictions.

##### `signin_enabled`

Data type: `Optional[Boolean]`

(Deprecated: Use `password_authentication_enabled_for_web` instead) Flag indicating if password authentication is enabled for the web interface.

##### `signup_enabled`

Data type: `Optional[Boolean]`

Enable registration. Default is `true`.

##### `silent_admin_exports_enabled`

Data type: `Optional[Boolean]`

Enable Silent admin exports. Default is `false`.

##### `silent_mode_enabled`

Data type: `Optional[Boolean]`

Enable Silent mode. Default is `false`.

##### `slack_app_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `slack_app_id`, `slack_app_secret`, `slack_app_signing_secret`, and `slack_app_verification_token`) Enable the GitLab for Slack app.

##### `slack_app_id`

Data type: `Optional[String]`

The client ID of the GitLab for Slack app. Required by: `slack_app_enabled`

##### `slack_app_secret`

Data type: `Optional[String]`

The client secret of the GitLab for Slack app. Used for authenticating OAuth requests from the app. Required by: `slack_app_enabled`

##### `slack_app_signing_secret`

Data type: `Optional[String]`

The signing secret of the GitLab for Slack app. Used for authenticating API requests from the app. Required by: `slack_app_enabled`

##### `slack_app_verification_token`

Data type: `Optional[String]`

The verification token of the GitLab for Slack app. This method of authentication is deprecated by Slack and used only for authenticating slash commands from the app. Required by: `slack_app_enabled`

##### `snippet_size_limit`

Data type: `Optional[Integer[0]]`

Max snippet content size in bytes. Default: 52428800 Bytes (50 MB).

##### `snowplow_app_id`

Data type: `Optional[String]`

The Snowplow site name / application ID. (for example, `gitlab`)

##### `snowplow_collector_hostname`

Data type: `Optional[Variant[Stdlib::FQDN, Enum['']]]`

The Snowplow collector hostname. (for example, `snowplowprd.trx.gitlab.net`) Required by: `snowplow_enabled`

##### `snowplow_cookie_domain`

Data type: `Optional[String]`

The Snowplow cookie domain. (for example, `.gitlab.com`)

##### `snowplow_database_collector_hostname`

Data type: `Optional[Variant[Stdlib::FQDN, Enum['']]]`

The Snowplow collector for database events hostname. (for example, `db-snowplow.trx.gitlab.net`)

##### `snowplow_enabled`

Data type: `Optional[Boolean]`

Enable snowplow tracking.

##### `sourcegraph_enabled`

Data type: `Optional[Boolean]`

Enables Sourcegraph integration. Default is `false`. If enabled, requires `sourcegraph_url`.

##### `sourcegraph_public_only`

Data type: `Optional[Boolean]`

Blocks Sourcegraph from being loaded on private and internal projects. Default is `true`.

##### `sourcegraph_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

The Sourcegraph instance URL for integration. Required by: `sourcegraph_enabled`

##### `spam_check_api_key`

Data type: `Optional[String]`

API key used by GitLab for accessing the Spam Check service endpoint.

##### `spam_check_endpoint_enabled`

Data type: `Optional[Boolean]`

Enables spam checking using external Spam Check API endpoint. Default is `false`.

##### `spam_check_endpoint_url`

Data type: `Optional[String[1]]`

URL of the external Spamcheck service endpoint. Valid URI schemes are `grpc` or `tls`. Specifying `tls` forces communication to be encrypted.

##### `static_objects_external_storage_auth_token`

Data type: `Optional[String]`

Authentication token for the external storage linked in `static_objects_external_storage_url`. Required by: `static_objects_external_storage_url`

##### `static_objects_external_storage_url`

Data type: `Optional[Variant[Stdlib::HTTPUrl, Stdlib::AbsolutePath]]`

URL to an external storage for repository static objects.

##### `suggest_pipeline_enabled`

Data type: `Optional[Boolean]`

Enable pipeline suggestion banner.

##### `terminal_max_session_time`

Data type: `Optional[Integer[0]]`

Maximum time for web terminal websocket connection (in seconds). Set to `0` for unlimited time.

##### `terms`

Data type: `Optional[String]`

(Required by: `enforce_terms`) Markdown content for the ToS. Required by: `enforce_terms`

##### `throttle_authenticated_api_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `throttle_authenticated_api_period_in_seconds` and `throttle_authenticated_api_requests_per_period`) Enable authenticated API request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots).

##### `throttle_authenticated_api_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period (in seconds). Required by:`throttle_authenticated_api_enabled`

##### `throttle_authenticated_api_requests_per_period`

Data type: `Optional[Integer[0]]`

Maximum requests per period per user. Required by:`throttle_authenticated_api_enabled`

##### `throttle_authenticated_git_http_enabled`

Data type: `Optional[Boolean]`

If `true`, enforces the authenticated Git HTTP request rate limit. Default value: `false`. Conditionally

##### `throttle_authenticated_git_http_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period in seconds. `throttle_authenticated_git_http_enabled` must be `true`. Default value: `3600`.

##### `throttle_authenticated_git_http_requests_per_period`

Data type: `Optional[Integer[0]]`

Maximum requests per period per user. `throttle_authenticated_git_http_enabled` must be `true`. Default value: `3600`.

##### `throttle_authenticated_packages_api_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `throttle_authenticated_packages_api_period_in_seconds` and `throttle_authenticated_packages_api_requests_per_period`) Enable authenticated API request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots). View package registry rate limits for more details.

##### `throttle_authenticated_packages_api_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period (in seconds). View package registry rate limits for more details. Required by:`throttle_authenticated_packages_api_enabled`

##### `throttle_authenticated_packages_api_requests_per_period`

Data type: `Optional[Integer[0]]`

Maximum requests per period per user. View package registry rate limits for more details. Required by:`throttle_authenticated_packages_api_enabled`

##### `throttle_authenticated_web_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `throttle_authenticated_web_period_in_seconds` and `throttle_authenticated_web_requests_per_period`) Enable authenticated web request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots).

##### `throttle_authenticated_web_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period (in seconds). Required by:`throttle_authenticated_web_enabled`

##### `throttle_authenticated_web_requests_per_period`

Data type: `Optional[Integer[0]]`

Maximum requests per period per user. Required by:`throttle_authenticated_web_enabled`

##### `throttle_unauthenticated_api_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `throttle_unauthenticated_api_period_in_seconds` and `throttle_unauthenticated_api_requests_per_period`) Enable unauthenticated API request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots).

##### `throttle_unauthenticated_api_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period in seconds. Required by:`throttle_unauthenticated_api_enabled`

##### `throttle_unauthenticated_api_requests_per_period`

Data type: `Optional[Integer[0]]`

Max requests per period per IP. Required by:`throttle_unauthenticated_api_enabled`

##### `throttle_unauthenticated_enabled`

Data type: `Optional[Boolean]`

(Deprecated in GitLab 14.3. Use `throttle_unauthenticated_web_enabled` or `throttle_unauthenticated_api_enabled` instead.) (If enabled, requires: `throttle_unauthenticated_period_in_seconds` and `throttle_unauthenticated_requests_per_period`) Enable unauthenticated web request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots).

##### `throttle_unauthenticated_git_http_enabled`

Data type: `Optional[Boolean]`

If `true`, enforces the unauthenticated Git HTTP request rate limit. Default value: `false`. Conditionally

##### `throttle_unauthenticated_git_http_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period in seconds. `throttle_unauthenticated_git_http_enabled` must be `true`. Default value: `3600`.

##### `throttle_unauthenticated_git_http_requests_per_period`

Data type: `Optional[Integer[0]]`

Maximum requests per period per user. `throttle_unauthenticated_git_http_enabled` must be `true`. Default value: `3600`.

##### `throttle_unauthenticated_packages_api_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `throttle_unauthenticated_packages_api_period_in_seconds` and `throttle_unauthenticated_packages_api_requests_per_period`) Enable authenticated API request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots). View package registry rate limits for more details.

##### `throttle_unauthenticated_packages_api_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period (in seconds). View package registry rate limits for more details. Required by:`throttle_unauthenticated_packages_api_enabled`

##### `throttle_unauthenticated_packages_api_requests_per_period`

Data type: `Optional[Integer[0]]`

Maximum requests per period per user. View package registry rate limits for more details. Required by:`throttle_unauthenticated_packages_api_enabled`

##### `throttle_unauthenticated_period_in_seconds`

Data type: `Optional[Integer[0]]`

(Deprecated in GitLab 14.3. Use `throttle_unauthenticated_web_period_in_seconds` or `throttle_unauthenticated_api_period_in_seconds` instead.) Rate limit period in seconds. Required by:`throttle_unauthenticated_enabled`

##### `throttle_unauthenticated_requests_per_period`

Data type: `Optional[Integer[0]]`

(Deprecated in GitLab 14.3. Use `throttle_unauthenticated_web_requests_per_period` or `throttle_unauthenticated_api_requests_per_period` instead.) Max requests per period per IP. Required by:`throttle_unauthenticated_enabled`

##### `throttle_unauthenticated_web_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `throttle_unauthenticated_web_period_in_seconds` and `throttle_unauthenticated_web_requests_per_period`) Enable unauthenticated web request rate limit. Helps reduce request volume (for example, from crawlers or abusive bots).

##### `throttle_unauthenticated_web_period_in_seconds`

Data type: `Optional[Integer[0]]`

Rate limit period in seconds. Required by:`throttle_unauthenticated_web_enabled`

##### `throttle_unauthenticated_web_requests_per_period`

Data type: `Optional[Integer[0]]`

Max requests per period per IP. Required by:`throttle_unauthenticated_web_enabled`

##### `time_tracking_limit_to_hours`

Data type: `Optional[Boolean]`

Limit display of time tracking units to hours. Default is `false`.

##### `top_level_group_creation_enabled`

Data type: `Optional[Boolean]`

Allows a user to create top-level-groups. Default is `true`.

##### `two_factor_grace_period`

Data type: `Optional[Integer[0]]`

Amount of time (in hours) that users are allowed to skip forced configuration of two-factor authentication. Required by: `require_two_factor_authentication`

##### `unconfirmed_users_delete_after_days`

Data type: `Optional[Integer[1]]`

Specifies how many days after sign-up to delete users who have not confirmed their email. Only applicable if `delete_unconfirmed_users` is set to `true`. Must be `1` or greater. Default is `7`. Introduced in GitLab 16.1. GitLab Self-Managed, Premium and Ultimate only.

##### `unique_ips_limit_enabled`

Data type: `Optional[Boolean]`

(If enabled, requires: `unique_ips_limit_per_user` and `unique_ips_limit_time_window`) Limit sign in from multiple IPs.

##### `unique_ips_limit_per_user`

Data type: `Optional[Integer[0]]`

Maximum number of IPs per user. Required by: `unique_ips_limit_enabled`

##### `unique_ips_limit_time_window`

Data type: `Optional[Integer[0]]`

How many seconds an IP is counted towards the limit. Required by: `unique_ips_limit_enabled`

##### `update_runner_versions_enabled`

Data type: `Optional[Boolean]`

Fetch GitLab Runner release version data from GitLab.com. For more information, see how to determine which runners need to be upgraded.

##### `updating_name_disabled_for_users`

Data type: `Optional[Boolean]`

Disable user profile name changes.

##### `usage_ping_enabled`

Data type: `Optional[Boolean]`

Every week GitLab reports license usage back to GitLab, Inc.

##### `use_clickhouse_for_analytics`

Data type: `Optional[Boolean]`

Enables ClickHouse as a data source for analytics reports. ClickHouse must be configured for this setting to take effect. Available on Premium and Ultimate only.

##### `user_deactivation_emails_enabled`

Data type: `Optional[Boolean]`

Send an email to users upon account deactivation.

##### `user_default_external`

Data type: `Optional[Boolean]`

Newly registered users are external by default.

##### `user_default_internal_regex`

Data type: `Optional[Variant[String[1], Regexp]]`

Specify an email address regex pattern to identify default internal users.

##### `user_defaults_to_private_profile`

Data type: `Optional[Boolean]`

Newly created users have private profile by default. Defaults to `false`.

##### `user_oauth_applications`

Data type: `Optional[Boolean]`

Allow users to register any application to use GitLab as an OAuth provider. This setting does not affect group-level OAuth applications.

##### `user_show_add_ssh_key_message`

Data type: `Optional[Boolean]`

When set to `false` disable the `You won't be able to pull or push project code via SSH` warning shown to users with no uploaded SSH key.

##### `users_api_limit_followers`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 100. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `users_api_limit_following`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 100. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `users_api_limit_gpg_key`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 120. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `users_api_limit_gpg_keys`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 120. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `users_api_limit_key`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 120. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `users_api_limit_keys`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 120. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `users_api_limit_status`

Data type: `Optional[Integer[0]]`

Max number of requests per minute, per user or IP address. Default: 240. Set to `0` to disable limits. Introduced in GitLab 17.10.

##### `valid_runner_registrars`

Data type: `Optional[Array[Enum['group', 'project']]]`

List of types which are allowed to register a GitLab Runner. Can be `[]`, `['group']`, `['project']` or `['group', 'project']`.

##### `version_check_enabled`

Data type: `Optional[Boolean]`

Let GitLab inform you when an update is available.

##### `virtual_registries_endpoints_api_limit`

Data type: `Optional[Integer[0]]`

Max number of requests on virtual registries endpoints, per IP address, per 15 seconds. Default: 1000. Set to `0` to disabled limits. Introduced in GitLab 17.11

##### `vscode_extension_marketplace`

Data type: `Optional[Hash]`

Settings for VS Code Extension Marketplace. Used by Web IDE and Workspaces.

##### `whats_new_variant`

Data type: `Optional[Enum['all_tiers', 'current_tier', 'disabled']]`

What's new variant, possible values: `all_tiers`, `current_tier`, and `disabled`.

##### `wiki_page_max_content_bytes`

Data type: `Optional[Integer[1024]]`

Maximum wiki page content size in bytes. Default: 52428800 Bytes (50 MB). The minimum value is 1024 bytes.

#### Parameters

The following parameters are available in the `gitlab_application_settings` type.

* [`name`](#-gitlab_application_settings--name)

##### <a name="-gitlab_application_settings--name"></a>`name`

namevar

Data type: `Enum['gitlab']`

Unused, must be 'gitlab' if set

## Tasks

### <a name="post_upgrade"></a>`post_upgrade`

Cleans up old postgres database after upgrade

**Supports noop?** false

### <a name="postgres_upgrade"></a>`postgres_upgrade`

Upgrades the postgres database if needed

**Supports noop?** false

